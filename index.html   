<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VELOKRAK</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Orbitron:wght@500&display=swap" rel="stylesheet"/>
    <style>
        /* * ================================================
        * THEME VARIABLES
        * ================================================
        * All colors are defined here. The .light-theme class
        * overrides these variables for the light mode.
        */
        :root {
            --primary: #8a2be2;
            --primary-dark: #6a1b9a;
            --primary-light: #b388ff;
            --secondary: #4b0082;
            --accent: #ff4081;
            --neon: #e100ff;

            --bg-main: #121212;
            --bg-card: #1e1e1e;
            --bg-header: #2a2a2a;
            --bg-input: #333;
            --bg-sidebar: #0a0a0a;

            --text-primary: #f5f5f5;
            --text-secondary: #ccc;
            --text-tertiary: #aaa;
            --text-placeholder: #888;
            
            --border-color: #444;
            --border-color-light: #333;
            --shadow-color: rgba(0, 0, 0, 0.3);
            --shadow-glow: rgba(179, 136, 255, 0.3);
            --shadow-glow-strong: rgba(138, 43, 226, 0.5);

            --title-gradient: linear-gradient(90deg, var(--primary), var(--neon));
            --bike-title-color: var(--primary-light);
            --hero-image: url('https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');
            --hero-overlay-start: rgba(18, 18, 18, 0.7);
            --hero-overlay-end: rgba(18, 18, 18, 0.9);
            --date-picker-filter: invert(1);
        }

        body.light-theme {
            --primary: #6a1b9a;
            --primary-dark: #4b0082;
            --primary-light: #8a2be2;
            
            --bg-main: #f0f2f5;
            --bg-card: #ffffff;
            --bg-header: #f8f9fa;
            --bg-input: #e9ecef;
            --bg-sidebar: #ffffff;

            --text-primary: #212529;
            --text-secondary: #6c757d;
            --text-tertiary: #888;
            --text-placeholder: #6c757d;

            --border-color: #dee2e6;
            --border-color-light: #e9ecef;
            --shadow-color: rgba(0, 0, 0, 0.1);
            --shadow-glow: rgba(106, 27, 154, 0.2);
            --shadow-glow-strong: rgba(106, 27, 154, 0.3);

            --bike-title-color: var(--primary);
            --hero-overlay-start: rgba(255, 255, 255, 0.3);
            --hero-overlay-end: rgba(255, 255, 255, 0.5);
            --date-picker-filter: invert(0);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-primary);
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        main {
            flex-grow: 1;
            transition: filter 0.5s ease-in-out;
        }
        
        body.menu-open main,
        body.menu-open footer {
            filter: blur(5px) brightness(0.5);
        }

        .gradient-text {
            background: var(--title-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 700;
            background-size: 200% auto;
            transition: background-position: 0.5s ease;
        }
        .gradient-text:hover {
            background-position: right center;
        }

        .btn {
            display: inline-block;
            padding: 10px 22px;
            font-family: 'Montserrat', sans-serif;
            font-weight: 500;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            background: transparent;
            color: var(--primary-light);
            border: 2px solid var(--primary-light);
            border-radius: 30px;
            transition: all 0.3s ease;
            box-shadow: none;
            text-shadow: none;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 15px var(--shadow-glow);
            text-shadow: 0 0 8px var(--shadow-glow);
        }

        .btn:active {
            transform: translateY(-1px);
            box-shadow: 0 2px 8px var(--shadow-glow);
        }

        @keyframes pulse-glow {
            0% { box-shadow: 0 0 5px var(--shadow-glow), 0 0 10px var(--shadow-glow); }
            50% { box-shadow: 0 0 15px var(--shadow-glow-strong), 0 0 25px var(--shadow-glow-strong); }
            100% { box-shadow: 0 0 5px var(--shadow-glow), 0 0 10px var(--shadow-glow); }
        }
        #choose-bike-btn {
            animation: pulse-glow 3s infinite ease-in-out;
        }

        #language-switcher {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            padding-right: 35px;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23b388ff%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 0.8rem center;
            background-size: .6em auto;
        }
        
        .admin-btn {
            padding: 8px 16px;
            font-size: 0.9rem;
            margin: 20px auto;
            width: fit-content;
            display: none;
        }

        .hero-container {
            position: relative;
            overflow: hidden;
        }
        
        .hero {
            position: relative;
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 0 20px;
            background: linear-gradient(var(--hero-overlay-start), var(--hero-overlay-end)),
                        var(--hero-image) no-repeat center center/cover;
            transition: transform 0.5s ease-out;
        }

        #main-title {
            cursor: pointer;
        }
        .hero h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .bike-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        #modal-service-list {
            padding: 20px 0;
            display: block;
        }

        .bike-card {
            background: var(--bg-card);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow-color);
            transition: transform 0.4s ease, box-shadow 0.4s ease, background-color 0.3s;
            width: 100%;
            display: flex;
            flex-direction: column;
            opacity: 0;
        }

        .bike-card:hover {
            transform: translateY(-10px) rotate3d(0, 1, 0, 5deg);
            box-shadow: 0 10px 25px var(--shadow-glow-strong);
        }
        
        .bike-image-gallery {
            position: relative;
            width: 100%;
            height: 200px;
            background-color: var(--bg-input);
        }
        .bike-image-gallery img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.3s ease-in-out;
        }
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.4);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 1.2rem;
            line-height: 30px;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .bike-card:hover .gallery-nav {
            opacity: 1;
        }
        .gallery-nav.prev { left: 10px; }
        .gallery-nav.next { right: 10px; }
        .gallery-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
        }
        .gallery-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            transition: background 0.3s;
        }
        .gallery-dot.active {
            background: var(--primary-light);
        }

        .service-card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background-color: var(--bg-input);
        }

        .bike-info {
            padding: 15px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            min-width: 0;  
        }
        
        .bike-title {
            font-size: 1.25rem;
            margin-bottom: 8px;
            color: var(--bike-title-color);
            line-height: 1.2;
        }

        .bike-features {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            line-height: 1.4;
            flex-grow: 1;
        }
        
        .price-highlight-horizontal {
            margin-top: 5px;
        }
        
        .price-highlight-horizontal .price-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-light);
        }

        .price-highlight-horizontal .price-period {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .other-prices-horizontal {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            margin-bottom: 10px;
            flex-wrap: wrap;
        }
        
        .bike-availability {
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .availability-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        .availability-dot.in-stock { background-color: #4CAF50; }
        .availability-dot.out-of-stock { background-color: #F44336; }

        .bike-buttons-container {
            margin-top: auto;
            padding-top: 10px;
            display: flex;
            flex-direction: row;
            gap: 10px;
            border-top: 1px solid var(--border-color);
        }
        
        .service-card-footer {
            justify-content: center;
            align-items: center;
            margin-top: auto;
            padding-top: 10px;
            display: flex;
            flex-direction: row;
            gap: 10px;
            border-top: 1px solid var(--border-color);
        }
        
        .section-animated {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        
        .section-animated.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .contacts-section, .bike-section, .booking-section {
            padding: 40px 20px;
            max-width: 1200px;
            margin: 20px auto;
            text-align: center;
        }

        .booking-form { max-width: 600px; margin: 30px auto 0; text-align: left; background: var(--bg-card); padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px var(--shadow-color); border-top: 3px solid var(--primary-light); }
        .booking-form label { display: block; margin-bottom: 10px; color: var(--primary-light); font-weight: bold; }
        .booking-form input, .booking-form select { width: 100%; padding: 12px; border-radius: 5px; border: 1px solid var(--border-color); background: var(--bg-input); color: var(--text-primary); font-size: 1rem; font-family: 'Montserrat', sans-serif; transition: border-color 0.3s, box-shadow 0.3s; }
        .booking-form input, .booking-form select, .booking-form .selection-container { margin-bottom: 20px; }
        .booking-form input:focus, .booking-form select:focus { outline: none; border-color: var(--primary-light); box-shadow: 0 0 8px var(--shadow-glow); }
        .booking-form ::placeholder { color: var(--text-placeholder); opacity: 1; }
        select:invalid { color: var(--text-placeholder); }
        option[value=""][disabled] { display: none; }
        option { color: var(--text-primary); background: var(--bg-card); }
        .booking-form input[type="date"]::-webkit-calendar-picker-indicator { filter: var(--date-picker-filter); }
        .booking-form button { width: 100%; margin-top: 10px; }
        
        .selection-container { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out, opacity 0.4s ease-in-out, padding 0.5s ease-out, margin-bottom 0.5s ease-out; opacity: 0; padding-left: 0; border-left: 2px solid transparent; margin-bottom: 0 !important; }
        .selection-container.visible { max-height: 600px; opacity: 1; padding-left: 15px; border-left: 2px solid var(--primary); margin-bottom: 20px !important; }
        .selection-container label { display: flex; align-items: center; margin-bottom: 8px; font-weight: normal; color: var(--text-primary); cursor: pointer; }
        .selection-container input[type="checkbox"] { width: auto; margin: 0 12px 0 0; accent-color: var(--primary-light); }

        .map-container { width: 100%; height: 400px; background-color: var(--bg-input); margin: 20px 0; border-radius: 15px; overflow: hidden; display: flex; justify-content: center; align-items: center; border: 2px solid var(--primary); }
        .contact-info { margin-top: 30px; }
        .contact-info p { margin: 10px 0; font-size: 1.1rem; }

        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.85); z-index: 1000; justify-content: center; align-items: center; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content { background: var(--bg-card); padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; text-align: center; border: 2px solid var(--primary); position: relative; animation: slideUpModal 0.4s ease-out; }
        @keyframes slideUpModal { from { opacity: 0; transform: translateY(50px) scale(0.95); } to { opacity: 1; transform: translateY(0) scale(1); } }
        .modal-content-large { width: 100vw; height: 100vh; max-width: none; border-radius: 0; border: none; display: flex; flex-direction: column; padding: 40px; }
        #modal-service-list { flex-grow: 1; margin-top: 10px; overflow-y: auto; max-width: 1200px; margin-left: auto; margin-right: auto; width: 100%; }
        #modal-service-title, #modal-service-intro { text-align: left; }
        .close-modal { margin-top: 20px; cursor: pointer; color: var(--primary-light); text-decoration: underline; transition: color 0.3s; }
        .close-modal:hover { color: var(--text-primary); }
        .close-modal-fullscreen { position: absolute; top: 20px; right: 35px; color: var(--primary-light); font-size: 3rem; font-weight: bold; text-decoration: none; margin-top: 0; line-height: 1; transition: color 0.3s, transform 0.3s; }
        .close-modal-fullscreen::before { content: '\00D7'; }
        .close-modal-fullscreen:hover { color: var(--text-primary); transform: rotate(90deg) scale(1.1); }

        .service-accordion-item { background: var(--bg-card); border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px var(--shadow-color); margin-bottom: 15px; border: 1px solid var(--border-color-light); }
        .service-accordion-header { padding: 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; background: var(--bg-header); transition: background-color 0.3s; }
        .service-accordion-header:hover { background-color: var(--primary-dark); }
        .service-accordion-header h3 { margin: 0; font-size: 1.25rem; color: var(--bike-title-color); }
        .service-accordion-header::after { content: '+'; font-size: 2rem; color: var(--primary-light); transition: transform 0.3s ease-in-out; font-weight: 300; }
        .service-accordion-item.active .service-accordion-header::after { transform: rotate(45deg); }
        .service-accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.6s ease-out, padding 0.6s ease-out; }
        .service-accordion-content-inner { padding: 20px; padding-top: 0; }

        /* HEADER CONTROLS */
        #fixed-header-controls {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            z-index: 999;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        #fixed-header-controls.hidden {
            opacity: 0;
            pointer-events: none;
        }

        #fixed-header-controls > * {
            pointer-events: auto;
        }
        
        .hamburger-menu {
            position: relative;
            top: 5px;
            left: 5px;
            width: 30px;
            height: 22px;
            background: transparent;
            border: none;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        .hamburger-menu span {
            display: block;
            width: 100%;
            height: 3px;
            background-color: var(--primary-light);
            border-radius: 3px;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out, background-color 0.3s;
            transform-origin: center;
        }
        .menu-open .hamburger-menu span:nth-child(1) { transform: translateY(9.5px) rotate(45deg); }
        .menu-open .hamburger-menu span:nth-child(2) { opacity: 0; }
        .menu-open .hamburger-menu span:nth-child(3) { transform: translateY(-9.5px) rotate(-45deg); }

        .sidebar-nav {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background-color: var(--bg-sidebar);
            z-index: 1001;
            transform: translateX(-100%);
            transition: transform 0.5s cubic-bezier(0.77, 0, 0.175, 1);
            padding: 80px 20px 20px;
            display: flex;
            flex-direction: column;
        }
        .menu-open .sidebar-nav { transform: translateX(0); }
        .sidebar-nav ul { list-style: none; padding: 0; margin: 0; }
        .sidebar-nav li { opacity: 0; transition: opacity 0.4s ease, transform 0.4s ease; transform: translateX(-20px); }
        .sidebar-nav a {
            display: block;
            padding: 15px 20px;
            color: var(--text-primary);
            text-decoration: none;
            font-size: 1.1rem;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
        }
        .sidebar-nav a:hover {
            background-color: var(--primary);
            color: white;
        }
        .menu-open .sidebar-nav li {
            opacity: 1;
            transform: translateX(0);
        }
        /* Staggered animation */
        .menu-open .sidebar-nav li:nth-child(1) { transition-delay: 0.1s; }
        .menu-open .sidebar-nav li:nth-child(2) { transition-delay: 0.15s; }
        .menu-open .sidebar-nav li:nth-child(3) { transition-delay: 0.25s; }
        .menu-open .sidebar-nav li:nth-child(4) { transition-delay: 0.35s; }
        .menu-open .sidebar-nav li:nth-child(5) { transition-delay: 0.45s; }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none;
        }
        .menu-open .overlay {
            opacity: 1;
            pointer-events: auto;
        }
        
        /* DYNAMIC CONTENT VIEW */
        #dynamic-content-view {
            display: none; /* Hidden by default */
            padding-top: 80px; /* Space for back button */
            width: 100%;
            min-height: 100vh;
            background-color: var(--bg-main);
        }
        .dynamic-content-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            margin: 0 auto 30px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 20px;
        }
        #dynamic-content-title {
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }
        .dynamic-content-body {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            gap: 25px;
            padding: 0 20px 40px;
        }
        /* Partner/Route/News/Promotion Cards */
        .content-card {
            background: var(--bg-card);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px var(--shadow-color);
            display: flex;
            flex-direction: column;
        }
        .content-card-image {
            width: 100%;
            height: 220px;
            object-fit: cover;
            background-color: var(--bg-input);
        }
        .content-card-body {
            padding: 20px;
        }
        .content-card-body h3 {
            color: var(--bike-title-color);
            margin-bottom: 10px;
        }
        .dynamic-content-body-grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        }
        .dynamic-content-body-grid-1 {
            grid-template-columns: 1fr;
        }

        .admin-panel { background: var(--bg-card); padding: 30px; margin-top: 50px; border-top: 3px solid var(--primary); display: none; }
        .admin-login { max-width: 400px; margin: 0 auto; text-align: center; }
        .admin-login input { width: 100%; padding: 12px; margin: 10px 0; border-radius: 5px; border: 1px solid var(--border-color); background: var(--bg-input); color: var(--text-primary); }
        .admin-content { display: none; max-width: 1200px; margin: 0 auto; }
        .admin-service-item, .admin-bike-item, .admin-content-item { background: var(--bg-header); padding: 20px; margin-bottom: 20px; border-radius: 10px; border-left: 3px solid var(--primary); }
        .admin-bike-item h4, .admin-service-item h4, .admin-content-item h4 { margin-top: 15px; margin-bottom: 5px; color: var(--primary-light); }
        .admin-form-group { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .admin-form label { font-weight: normal; font-size: 0.9em; color: var(--text-secondary); margin-top: 10px; display: block; }
        .admin-form label input[type="checkbox"] { width: auto; margin-right: 8px; vertical-align: middle; }
        .sub-service-list { margin: 10px 0; }
        .sub-service-item { display: flex; justify-content: space-between; align-items: center; background: var(--bg-input); padding: 8px; border-radius: 5px; margin-bottom: 5px; gap: 10px; }
        .sub-service-item input[type="text"] { flex-grow: 1; background: var(--bg-input); border: 1px solid var(--border-color); color: var(--text-primary); padding: 5px; border-radius: 3px; }
        .sub-service-item input[type="number"] { width: 80px; background: var(--bg-input); border: 1px solid var(--border-color); color: var(--text-primary); padding: 5px; border-radius: 3px; }
        .sub-service-delete-btn { background: #c9302c; color: white; border: none; border-radius: 50%; width: 22px; height: 22px; cursor: pointer; line-height: 22px; text-align: center; flex-shrink: 0; }
        .admin-form { background: var(--bg-header); padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .admin-form input, .admin-form textarea, .admin-form select { width: 100%; padding: 10px; margin-bottom: 5px; background: var(--bg-input); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: 5px; }
        .admin-tabs { display: flex; margin-bottom: 20px; border-bottom: 1px solid var(--border-color); flex-wrap: wrap; }
        .admin-tab { padding: 10px 20px; cursor: pointer; border-bottom: 2px solid transparent; text-align: center; flex-grow: 1; transition: color 0.3s, border-bottom-color 0.3s; }
        .admin-tab.active, .admin-tab:hover { border-bottom: 2px solid var(--primary); color: var(--primary-light); }
        
        .admin-images-preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 10px 0;
        }
        .admin-image-preview-wrapper {
            position: relative;
            width: 150px;
            height: 100px;
        }
        .admin-image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            border: 1px solid var(--border-color);
        }
        .delete-image-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background-color: rgba(201, 48, 44, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-weight: bold;
            line-height: 24px;
            text-align: center;
            transition: background-color 0.2s;
        }
        .delete-image-btn:hover {
            background-color: #c9302c;
        }

        .service-sublist-modal { list-style-type: none; padding-left: 0; margin-top: 15px; text-align: left; }
        .service-sublist-modal li { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid var(--border-color); }
        .service-sublist-modal li:last-child { border-bottom: none; }
        .sub-service-name { color: var(--text-secondary); }
        .sub-service-price { font-weight: bold; color: var(--text-primary); }
        
        /* --- Theme Switch --- */
        .theme-switch-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        #theme-switch-label {
            color: var(--primary-light);
            font-size: 0.9rem;
            font-weight: 500;
        }
        .theme-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
        }
        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--bg-input);
            transition: .4s;
            border-radius: 28px;
            border: 1px solid var(--border-color);
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 0 2px rgba(0,0,0,0.3);
        }
        input:checked + .slider {
            background-color: var(--primary);
            border-color: var(--primary);
        }
        input:checked + .slider:before {
            transform: translateX(22px);
        }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .modal-content { padding: 20px; }
            .admin-form-group { grid-template-columns: 1fr; }
            .bike-container { padding: 20px 15px; gap: 20px; }
            .bike-info { padding: 15px; }
            .bike-title { font-size: 1.2rem; }
            .bike-features { font-size: 0.85rem; }
            .price-highlight-horizontal .price-value { font-size: 1.8rem; }
            .price-highlight-horizontal .price-period { font-size: 0.9rem; }
            .other-prices-horizontal { font-size: 0.8rem; }
            .bike-availability { font-size: 0.85rem; }
            .bike-buttons-container .btn { padding: 8px 12px; font-size: 0.85rem; }
            .dynamic-content-body-grid-2 { grid-template-columns: 1fr; }
        }
        @media (max-width: 480px) {
            .hero h1 { font-size: 1.8rem; }
            .map-container { height: 250px; }
            .bike-container { grid-template-columns: 1fr; }
            .bike-info { padding: 12px; }
            .bike-buttons-container { flex-direction: column; }
        }
    </style>
</head>
<body>
    <div id="fixed-header-controls">
        <button class="hamburger-menu" id="hamburger-menu" aria-label="Open menu">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 10px;">
            <select class="btn" id="language-switcher">
                <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
                <option value="pl">üáµüá± Polski</option>
                <option value="en">üá¨üáß English</option>
                <option value="ua">üá∫üá¶ –£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
            </select>
            <div class="theme-switch-wrapper">
                <label for="theme-switch-checkbox" id="theme-switch-label"></label>
                <label class="theme-switch" for="theme-switch-checkbox">
                    <input type="checkbox" id="theme-switch-checkbox" />
                    <span class="slider round"></span>
                </label>
            </div>
        </div>
    </div>

    <nav class="sidebar-nav" id="sidebar-nav">
        <ul id="sidebar-menu-list">
            <!-- Menu items will be rendered here by JS -->
        </ul>
    </nav>
    <div class="overlay" id="overlay"></div>

    <main>
        <div class="hero-container">
            <section class="hero">
                <h1 class="gradient-text" id="main-title">VELOKRAK</h1>
                <p id="header-subtitle">–ê—Ä–µ–Ω–¥–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤ –≤ –ö—Ä–∞–∫–æ–≤–µ</p>
                <div>
                    <a class="btn" href="#bikes" id="choose-bike-btn"></a>
                    <a class="btn" id="go-to-service-btn" onclick="openServiceModal()"></a>
                </div>
            </section>
        </div>

        <section class="bike-section section-animated" id="bikes">
            <h2 class="gradient-text" id="choose-bike-title"></h2>
            <div class="bike-container" id="bikes-container"></div>
        </section>

        <section class="booking-section section-animated" id="booking">
            <h2 class="gradient-text" id="booking-title">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>
            <form action="https://formspree.io/f/xnnvdjyl" method="POST" class="booking-form" id="booking-form">
                <label for="name" id="label-name">–ò–º—è</label>
                <input type="text" id="name" name="–ò–º—è" required placeholder="–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?" oninput="filterNameInput(event)">
                <label for="phone" id="label-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" id="phone" name="–¢–µ–ª–µ—Ñ–æ–Ω" required placeholder="+48 123 456 789" oninput="filterPhoneInput(event)">
                <label for="booking-date" id="label-booking-date">–î–∞—Ç–∞</label>
                <input type="date" id="booking-date" name="–î–∞—Ç–∞_–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è" required>
                <label for="booking-purpose" id="label-booking-purpose">–¶–µ–ª—å –æ–±—Ä–∞—â–µ–Ω–∏—è</label>
                <select id="booking-purpose" name="–¶–µ–ª—å" required>
                    <option value="" disabled selected id="option-purpose-default">-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ --</option>
                    <option id="option-rent" value="–ê—Ä–µ–Ω–¥–∞">–ê—Ä–µ–Ω–¥–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞</option>
                    <option id="option-service" value="–°–µ—Ä–≤–∏—Å">–°–µ—Ä–≤–∏—Å–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</option>
                </select>
                <div class="selection-container" id="bike-selection-container"></div>
                <div class="selection-container" id="service-selection-container"></div>
                <button type="submit" class="btn" id="submit-btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ</button>
            </form>
        </section>

        <section class="contacts-section section-animated" id="contacts">
            <h2 class="gradient-text" id="where-to-find"></h2>
            <div class="map-container">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2560.40781297592!2d19.9520868157179!3d50.07808997942581!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47165b04825a1e8d%3A0x3764b7334a441075!2s%C5%81%C4%85kowa%2010%2C%2031-443%20Krak%C3%B3w%2C%20Poland!5e0!3m2!1sen!2sus!4v1689530412345!5m2!1sen!2sus"
                    width="100%"
                    height="100%"
                    style="border:0;"
                    allowfullscreen=""
                    loading="lazy">
                </iframe>
            </div>
            <div class="contact-info">
                <p id="contact-address"></p>
                <p id="contact-phone"></p>
                <p id="contact-email"></p>
            </div>
        </section>
    </main>

    <div id="dynamic-content-view">
        <div class="dynamic-content-header">
            <button class="btn" id="back-to-main-btn" onclick="hideDynamicContent()"></button>
            <h2 class="gradient-text" id="dynamic-content-title"></h2>
            <div></div> <!-- Spacer -->
        </div>
        <div class="dynamic-content-body" id="dynamic-content-body">
            <!-- Dynamic content will be injected here -->
        </div>
    </div>

    <footer>
        <button class="btn admin-btn" id="admin-btn" onclick="toggleAdminPanel()"></button>
    </footer>

    <!-- MODALS -->
    <div class="modal" id="rentModal">
        <div class="modal-content">
            <h3 id="modal-thanks"></h3>
            <p id="modal-rent-text"></p>
            <p id="modal-contact-phone" style="font-size: 1.2rem; margin: 20px 0; font-weight: bold;"></p>
            <p id="modal-contact-via"></p>
            <div class="close-modal" id="modal-close" onclick="closeModal()"></div>
        </div>
    </div>

    <div class="modal" id="serviceModal">
        <div class="modal-content modal-content-large">
            <div class="close-modal close-modal-fullscreen" onclick="closeServiceModal()"></div>
            <h2 class="gradient-text" id="modal-service-title"></h2>
            <p id="modal-service-intro" style="margin: 15px auto 15px 0; font-size: 1.1rem; max-width: 800px;"></p>
            <div id="modal-service-list"></div>
        </div>
    </div>

    <div class="modal" id="alertModal">
        <div class="modal-content">
            <h3 id="alertModalTitle"></h3>
            <p id="alertModalText"></p>
            <div id="uploadProgressBarContainer" style="display: none; margin-top: 15px;">
                <div style="background-color: var(--border-color); border-radius: 5px; overflow: hidden;">
                    <div id="uploadProgressBar" style="width: 0%; background-color: var(--primary-light); height: 10px; border-radius: 5px; transition: width 0.2s ease;"></div>
                </div>
                <p id="uploadProgressText" style="text-align: center; margin-top: 5px; font-size: 0.9rem;"></p>
            </div>
            <div class="close-modal" id="alertModalClose" onclick="closeAlertModal()"></div>
        </div>
    </div>

    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <h3 id="confirmModalTitle"></h3>
            <p id="confirmModalText"></p>
            <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;">
                 <button class="btn" id="confirmModalYes"></button>
                 <button class="btn" id="confirmModalNo" style="background-color: #6c757d; border-color: #6c757d;"></button>
            </div>
        </div>
    </div>
    <!-- END MODALS -->

    <div class="admin-panel" id="adminPanel">
        <div class="admin-login" id="adminLogin">
            <h2>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h2>
            <input id="admin-email" placeholder="Email" type="email"/>
            <input id="admin-password" placeholder="–ü–∞—Ä–æ–ª—å" type="password"/>
            <button class="btn" onclick="signInAdmin()">–í–æ–π—Ç–∏</button>
        </div>
        <div class="admin-content" id="adminContent">
             <button class="btn" id="signOutBtn" onclick="signOutAdmin()" style="margin-bottom: 20px; background: #c9302c;">–í—ã–π—Ç–∏</button>
            <div class="admin-tabs">
                <div class="admin-tab active" data-tab="bikes" onclick="switchTab('bikes')">–í–µ–ª–æ—Å–∏–ø–µ–¥—ã</div>
                <div class="admin-tab" data-tab="service" onclick="switchTab('service')">–£—Å–ª—É–≥–∏</div>
                <div class="admin-tab" data-tab="partners" onclick="switchTab('partners')">–ü–∞—Ä—Ç–Ω—ë—Ä—ã</div>
                <div class="admin-tab" data-tab="routes" onclick="switchTab('routes')">–ú–∞—Ä—à—Ä—É—Ç—ã</div>
                <div class="admin-tab" data-tab="promotions" onclick="switchTab('promotions')">–ê–∫—Ü–∏–∏</div>
                <div class="admin-tab" data-tab="news" onclick="switchTab('news')">–ù–æ–≤–æ—Å—Ç–∏</div>
                <div class="admin-tab" data-tab="contacts" onclick="switchTab('contacts')">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                <div class="admin-tab" data-tab="design" onclick="switchTab('design')">–î–∏–∑–∞–π–Ω</div>
            </div>
            <div id="admin-bikes-tab">
                <h2 id="manage-bikes-title"></h2>
                <div id="bikes-list"></div>
                <hr>
                <div class="admin-form" id="add-bike-form">
                    <h3 id="add-new-bike-title"></h3>
                    <div class="admin-form-group">
                        <div><label>–ù–∞–∑–≤–∞–Ω–∏–µ (RU)</label><input id="new-bike-name-ru" type="text"/><label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (RU)</label><textarea id="new-bike-features-ru" rows="3"></textarea></div>
                        <div><label>Name (EN)</label><input id="new-bike-name-en" type="text"/><label>Features (EN)</label><textarea id="new-bike-features-en" rows="3"></textarea></div>
                        <div><label>Nazwa (PL)</label><input id="new-bike-name-pl" type="text"/><label>Cechy (PL)</label><textarea id="new-bike-features-pl" rows="3"></textarea></div>
                        <div><label>–ù–∞–∑–≤–∞ (UA)</label><input id="new-bike-name-ua" type="text"/><label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (UA)</label><textarea id="new-bike-features-ua" rows="3"></textarea></div>
                    </div>
                    <hr style="margin: 15px 0;">
                    <input id="new-bike-price-hour" placeholder="–¶–µ–Ω–∞ –∑–∞ —á–∞—Å (PLN)" type="number"/>
                    <input id="new-bike-price-day" placeholder="–¶–µ–Ω–∞ –∑–∞ –¥–µ–Ω—å (PLN)" type="number"/>
                    <input id="new-bike-price-week" placeholder="–¶–µ–Ω–∞ –∑–∞ –Ω–µ–¥–µ–ª—é (PLN)" type="number"/>
                    <input id="new-bike-price-month" placeholder="–¶–µ–Ω–∞ –∑–∞ –º–µ—Å—è—Ü (PLN)" type="number"/>
                    <label><input type="checkbox" id="new-bike-inStock" checked> –í –Ω–∞–ª–∏—á–∏–∏</label>
                    <label for="new-bike-images">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (–º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ)</label>
                    <input id="new-bike-images" type="file" accept="image/*" required multiple/>
                    <button class="btn" id="add-new-bike-btn" onclick="addNewBike()"></button>
                </div>
            </div>
            <div id="admin-service-tab" style="display: none;">
                <h2 id="manage-services-title"></h2>
                <div id="admin-service-list"></div>
                <hr>
                <button class="btn" id="add-new-service-btn" onclick="addNewService()" style="margin-top: 20px;"></button>
            </div>
            <!-- DYNAMIC CONTENT ADMIN TABS -->
            <div id="admin-partners-tab" style="display: none;"></div>
            <div id="admin-routes-tab" style="display: none;"></div>
            <div id="admin-promotions-tab" style="display: none;"></div>
            <div id="admin-news-tab" style="display: none;"></div>
            <div id="admin-contacts-tab" style="display: none;">
                <h2 id="edit-contacts-title"></h2>
                <div class="admin-form">
                    <div id="edit-address-inputs"></div>
                    <hr style="margin: 15px 0;">
                    <label>–¢–µ–ª–µ—Ñ–æ–Ω:</label><input id="edit-phone" type="text"/>
                    <label>Email:</label><input id="edit-email" type="email"/>
                    <button class="btn" id="save-contacts-btn" onclick="saveContacts()"></button>
                </div>
            </div>
            <div id="admin-design-tab" style="display: none;">
                <h2 id="design-settings-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∑–∞–π–Ω–∞</h2>
                <div class="admin-form">
                    <h3>–¢–µ–∫—Å—Ç—ã –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏</h3>
                    <div id="edit-titles-inputs"></div>
                    <hr style="margin: 15px 0;">
                    <h3>–ü—É–Ω–∫—Ç—ã –º–µ–Ω—é</h3>
                    <div id="edit-menu-items-inputs"></div>
                </div>
                <div class="admin-form">
                    <h3>–§–æ–Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (Hero)</h3>
                    <label>–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                    <div id="hero-image-preview" style="width: 200px; height: 100px; background-size: cover; background-position: center; margin-bottom: 10px; border: 1px solid var(--border-color);"></div>
                    <label for="edit-hero-image">–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                    <input type="file" id="edit-hero-image" accept="image/*">
                </div>
                <div class="admin-form">
                    <h3>–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞</h3>
                    <div id="edit-colors-inputs"></div>
                </div>
                <button class="btn" onclick="saveAllSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button class="btn" onclick="resetDesignSettings()" style="background: #c9302c; margin-top: 10px;">–°–±—Ä–æ—Å–∏—Ç—å –¥–∏–∑–∞–π–Ω</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, doc, getDoc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        import { getAuth, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
        import { getStorage, ref, uploadBytesResumable, getDownloadURL, deleteObject } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-storage.js";
        
        // --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –£–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≤—ã—è—Å–Ω–∏–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª ---
        const firebaseConfig = {
            apiKey: "AIzaSyAK0-Y9Avkhy8N76HYCHSJZeQ0r4nq0-SI",
            authDomain: "amg9204-449fd.firebaseapp.com",
            projectId: "amg9204-449fd",
            storageBucket: "amg9204-449fd.appspot.com", // –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–º—è, SDK –¥–æ–ª–∂–µ–Ω —Å–∞–º –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å. –û—Å—Ç–∞–≤–ª—è–µ–º –µ–≥–æ.
            messagingSenderId: "728950960631",
            appId: "1:728950960631:web:b3934783ba2b5b0d0cfef2",
            measurementId: "G-XLD26S1X2V"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);
        const storage = getStorage(app);

        const siteDataRef = doc(db, "siteContent", "main");

        let translations, services, bikes, contacts, design;
        let currentUser = null;
        
        const defaultData = {
            "translations": {
                "ru": {
                    "uploadProgressPercent": "–ó–∞–≥—Ä—É–∂–µ–Ω–æ: {percent}%",
                    "themeLabel": "–¢–µ–º–∞", "headerTitle": "VELOKRAK", "headerSubtitle": "–ê—Ä–µ–Ω–¥–∞ —ç–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤ –≤ –ö—Ä–∞–∫–æ–≤–µ", "chooseBike": "–í—ã–±—Ä–∞—Ç—å –≤–µ–ª–æ—Å–∏–ø–µ–¥", "chooseBikeTitle": "–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥", "goToService": "–ö —Å–µ—Ä–≤–∏—Å—É", "whereToFind": "–ì–¥–µ –Ω–∞—Å –Ω–∞–π—Ç–∏", "phone": "–¢–µ–ª–µ—Ñ–æ–Ω", "email": "Email", "thanks": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≤—ã–±–æ—Ä!", "rentText": "–ï—Å–ª–∏ –≤–∞–º –≤—Å–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –∏ –≤—ã —Å–æ–≥–ª–∞—Å–Ω—ã –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –≤–µ–ª–æ—Å–∏–ø–µ–¥, –ø—Ä–æ—à—É –≤–∞—Å —Å–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏:", "contactVia": "–ò–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ WhatsApp/Telegram –ø–æ —ç—Ç–æ–º—É –Ω–æ–º–µ—Ä—É", "close": "–ó–∞–∫—Ä—ã—Ç—å", "adminPanel": "–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å", "adminPanelUnlocked": "–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞!", "manageBikes": "–í–µ–ª–æ—Å–∏–ø–µ–¥—ã", "addBike": "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –≤–µ–ª–æ—Å–∏–ø–µ–¥", "save": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "delete": "–£–¥–∞–ª–∏—Ç—å", "contacts": "–ö–æ–Ω—Ç–∞–∫—Ç—ã", "saveContacts": "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç—ã", "serviceTitle": "–ù–∞—à–∏ —É—Å–ª—É–≥–∏", "serviceIntro": "–ù–∞—à –≥–ª–∞–≤–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –≤–∞—à–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–º—Ñ–æ—Ä—Ç. –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞ –Ω–∞—à–∏ –º–∞—Å—Ç–µ—Ä–∞ –æ–±–ª–∞–¥–∞—é—Ç –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º. –î–æ–≤–µ—Ä—è—è –Ω–∞–º —Å–≤–æ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥, –≤—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º.", "manageServices": "–£—Å–ª—É–≥–∏", "addNewServiceTitle": "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —É—Å–ª—É–≥—É", "addNewServiceBtn": "–î–æ–±–∞–≤–∏—Ç—å —É—Å–ª—É–≥—É", "serviceNamePlaceholder": "–ù–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏", "serviceDescPlaceholder": "–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏", "editContactsTitle": "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤", "priceFrom": "–æ—Ç", "hour": "–ß–∞—Å", "day": "–î–µ–Ω—å", "week": "–ù–µ–¥–µ–ª—è", "month": "–ú–µ—Å—è—Ü", "inStock": "–í –Ω–∞–ª–∏—á–∏–∏", "outOfStock": "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏", "adminInStock": "–í –Ω–∞–ª–∏—á–∏–∏", "callNow": "–£—Ç–æ—á–Ω–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ", "bookVisit": "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤–∏–∑–∏—Ç", "designTab": "–î–∏–∑–∞–π–Ω", "bookingTitle": "–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ", "labelName": "–ò–º—è", "labelPhone": "–¢–µ–ª–µ—Ñ–æ–Ω", "labelBookingDate": "–î–∞—Ç–∞", "labelBookingPurpose": "–¶–µ–ª—å –æ–±—Ä–∞—â–µ–Ω–∏—è", "optionRent": "–ê—Ä–µ–Ω–¥–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞", "optionService": "–°–µ—Ä–≤–∏—Å–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ", "submitBtnText": "–û—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ", "namePlaceholder": "–ö–∞–∫ –∫ –≤–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è?", "phonePlaceholder": "+48 123 456 789", "purposeDefaultOption": "-- –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ --", "bookingSuccessTitle": "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!", "bookingSuccessText": "–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ! –ú—ã —Å–∫–æ—Ä–æ —Å –≤–∞–º–∏ —Å–≤—è–∂–µ–º—Å—è.", "bookingErrorText": "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.", "subServicesTitle": "–°–ø–∏—Å–æ–∫ —Ä–∞–±–æ—Ç:", "menuHome": "–ì–ª–∞–≤–Ω–∞—è", "menuPartners": "–ù–∞—à–∏ –ø–∞—Ä—Ç–Ω—ë—Ä—ã", "menuRoutes": "–ú–∞—Ä—à—Ä—É—Ç—ã", "menuPromotions": "–ê–∫—Ü–∏–∏", "menuNews": "–ù–æ–≤–æ—Å—Ç–∏", "backButton": "–ù–∞–∑–∞–¥", "addNewItem": "–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç", "contentItemName": "–ù–∞–∑–≤–∞–Ω–∏–µ", "contentItemDesc": "–û–ø–∏—Å–∞–Ω–∏–µ", "contentItemImage": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ", "contentItemTitle": "–ó–∞–≥–æ–ª–æ–≤–æ–∫", "contentItemText": "–¢–µ–∫—Å—Ç", "addImages": "–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)", "confirmTitle": "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "confirmYes": "–î–∞", "confirmNo": "–ù–µ—Ç", "alertSuccessTitle": "–£—Å–ø–µ—Ö!", "alertErrorTitle": "–û—à–∏–±–∫–∞!", "alertInfoTitle": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", "confirmDeleteImage": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ?", "confirmDeleteBike": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –≤–µ–ª–æ—Å–∏–ø–µ–¥?", "confirmDeleteService": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –≥—Ä—É–ø–ø—É —É—Å–ª—É–≥?", "confirmDeleteItem": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç?", "confirmResetDesign": "–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∑–∞–π–Ω–∞ –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö?", "imageDeleted": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ.", "bikeSaved": "–ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!", "bikeDeleted": "–í–µ–ª–æ—Å–∏–ø–µ–¥ —É–¥–∞–ª–µ–Ω!", "bikeAdded": "–ù–æ–≤—ã–π –≤–µ–ª–æ—Å–∏–ø–µ–¥ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!", "serviceAdded": "–ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞ —É—Å–ª—É–≥ –¥–æ–±–∞–≤–ª–µ–Ω–∞!", "serviceDeleted": "–ì—Ä—É–ø–ø–∞ —É—Å–ª—É–≥ —É–¥–∞–ª–µ–Ω–∞.", "serviceSaved": "–£—Å–ª—É–≥–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!", "itemAdded": "–≠–ª–µ–º–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω!", "itemSaved": "–≠–ª–µ–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!", "itemDeleted": "–≠–ª–µ–º–µ–Ω—Ç —É–¥–∞–ª–µ–Ω!", "settingsSaved": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!", "designReset": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã!", "contactsSaved": "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!", "invalidCode": "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å", "fillRequiredFields": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: ", "selectImage": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ñ–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.", "fillSubService": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —è–∫ –º—ñ–Ω—ñ–º—É–º —Ä–æ—Å—ñ–π—Å—å–∫—É –Ω–∞–∑–≤—É —Ç–∞ —Ü—ñ–Ω—É.", "uploadingImages": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...", "imageUploadError": "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ", "uploadProgress": "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ {current} –∏–∑ {total}..."
                },
                "en": { "uploadProgressPercent": "Uploaded: {percent}%", "themeLabel": "Theme", "headerTitle": "VELOKRAK", "headerSubtitle": "E-Bike Rental in Krakow", "chooseBike": "Choose a bike", "chooseBikeTitle": "Choose your bike", "goToService": "To Service", "whereToFind": "Where to find us", "phone": "Phone", "email": "Email", "thanks": "Thank you for your choice!", "rentText": "If everything looks good and you agree to rent this bike, please contact us:", "contactVia": "Or write to us on WhatsApp/Telegram using this number", "close": "Close", "adminPanel": "Admin Panel", "adminPanelUnlocked": "Admin panel unlocked!", "manageBikes": "Bikes", "addBike": "Add New Bike", "save": "Save", "delete": "Delete", "contacts": "Contacts", "saveContacts": "Save Contacts", "serviceTitle": "Our Services", "serviceIntro": "Our main priority is your safety and comfort. We use only high-quality components, and our mechanics have years of experience. By entrusting your bike to us, you are choosing reliability and professionalism.", "manageServices": "Services", "addNewServiceTitle": "Add New Service", "addNewServiceBtn": "Add Service", "serviceNamePlaceholder": "Service Name", "serviceDescPlaceholder": "Service Description", "editContactsTitle": "Edit Contacts", "priceFrom": "from", "hour": "Hour", "day": "Day", "week": "Week", "month": "Month", "inStock": "In Stock", "outOfStock": "Out of Stock", "adminInStock": "In Stock", "callNow": "Check Availability", "bookVisit": "Book a Visit", "designTab": "Design", "bookingTitle": "Booking", "labelName": "Name", "labelPhone": "Phone", "labelBookingDate": "Date", "labelBookingPurpose": "Purpose of visit", "optionRent": "Bike Rental", "optionService": "Maintenance Service", "submitBtnText": "Send Data", "namePlaceholder": "How can we call you?", "phonePlaceholder": "+48 123 456 789", "purposeDefaultOption": "-- Select from the list --", "bookingSuccessTitle": "Sent!", "bookingSuccessText": "Thank you for your request! We will contact you shortly.", "bookingErrorText": "An error occurred. Please try again.", "subServicesTitle": "List of works:", "menuHome": "Home", "menuPartners": "Our Partners", "menuRoutes": "Routes", "menuPromotions": "Promotions", "menuNews": "News", "backButton": "Back", "addNewItem": "Add New Item", "contentItemName": "Name", "contentItemDesc": "Description", "contentItemImage": "Image", "contentItemTitle": "Title", "contentItemText": "Text", "addImages": "Add photos (multiple allowed)",
                    "confirmTitle": "Confirmation", "confirmYes": "Yes", "confirmNo": "No", "alertSuccessTitle": "Success!", "alertErrorTitle": "Error!", "alertInfoTitle": "Information",
                    "confirmDeleteImage": "Are you sure you want to delete this image?", "confirmDeleteBike": "Are you sure you want to delete this bike?", "confirmDeleteService": "Are you sure you want to delete this service group?", "confirmDeleteItem": "Are you sure you want to delete this item?", "confirmResetDesign": "Are you sure you want to reset all design settings to default?",
                    "imageDeleted": "Image deleted.", "bikeSaved": "Changes saved!", "bikeDeleted": "Bike deleted!", "bikeAdded": "New bike added successfully!", "serviceAdded": "New service group added!", "serviceDeleted": "Service group deleted.", "serviceSaved": "Service saved!", "itemAdded": "Item added!", "itemSaved": "Item saved!", "itemDeleted": "Item deleted!", "settingsSaved": "Settings saved!", "designReset": "Settings reset!", "contactsSaved": "Contact details saved!", "invalidCode": "Invalid email or password", "fillRequiredFields": "Please fill in the required fields: ", "selectImage": "Please select at least one image file.", "fillSubService": "Please fill in at least the Russian name and price.", "uploadingImages": "Uploading images...", "imageUploadError": "Image upload error: ", "uploadProgress": "Uploading file {current} of {total}..."
                },
                "pl": { "uploadProgressPercent": "Przes≈Çano: {percent}%", "themeLabel": "Motyw", "headerTitle": "VELOKRAK", "headerSubtitle": "Wypo≈ºyczalnia rower√≥w elektrycznych w Krakowie", "chooseBike": "Wybierz rower", "chooseBikeTitle": "Wybierz sw√≥j rower", "goToService": "Do serwisu", "whereToFind": "Gdzie nas znale≈∫ƒá", "phone": "Telefon", "email": "Email", "thanks": "Dziƒôkujemy za Tw√≥j wyb√≥r!", "rentText": "Je≈õli wszystko Ci siƒô podoba i chcesz wypo≈ºyczyƒá ten rower, skontaktuj siƒô z nami:", "contactVia": "Lub napisz do nas na WhatsApp/Telegram na ten numer", "close": "Zamknij", "adminPanel": "Panel administracyjny", "adminPanelUnlocked": "Panel administratora odblokowany!", "manageBikes": "Rowery", "addBike": "Dodaj nowy rower", "save": "Zapisz", "delete": "Usu≈Ñ", "contacts": "Kontakt", "saveContacts": "Zapisz dane kontaktowe", "serviceTitle": "Nasze Us≈Çugi", "serviceIntro": "Naszym g≈Ç√≥wnym priorytetem jest Twoje bezpiecze≈Ñstwo i komfort. U≈ºywamy tylko wysokiej jako≈õci komponent√≥w, a nasi mechanicy majƒÖ wieloletnie do≈õwiadczenie. PowierzajƒÖc nam sw√≥j rower, wybierasz niezawodno≈õƒá i profesjonalizm.", "manageServices": "Us≈Çugi", "addNewServiceTitle": "Dodaj nowƒÖ us≈Çugƒô", "addNewServiceBtn": "Dodaj us≈Çugƒô", "serviceNamePlaceholder": "Nazwa us≈Çugi", "serviceDescPlaceholder": "Opis us≈Çugi", "editContactsTitle": "Edycja kontakt√≥w", "priceFrom": "od", "hour": "Godzina", "day": "Dzie≈Ñ", "week": "Tydzie≈Ñ", "month": "MiesiƒÖc", "inStock": "Dostƒôpny", "outOfStock": "Niedostƒôpny", "adminInStock": "Dostƒôpny", "callNow": "Sprawd≈∫ dostƒôpno≈õƒá", "bookVisit": "Zarezerwuj wizytƒô", "designTab": "WyglƒÖd", "bookingTitle": "Rezerwacja", "labelName": "Imiƒô", "labelPhone": "Telefon", "labelBookingDate": "Data", "labelBookingPurpose": "Cel wizyty", "optionRent": "Wypo≈ºyczenie roweru", "optionService": "Serwis", "submitBtnText": "Wy≈õlij dane", "namePlaceholder": "Jak mo≈ºemy siƒô do Ciebie zwracaƒá?", "phonePlaceholder": "+48 123 456 789", "purposeDefaultOption": "-- Wybierz z listy --", "bookingSuccessTitle": "Wys≈Çano!", "bookingSuccessText": "Dziƒôkujemy za zg≈Çoszenie! Skontaktujemy siƒô z TobƒÖ wkr√≥tce.", "bookingErrorText": "WystƒÖpi≈Ç b≈ÇƒÖd. Proszƒô spr√≥bowaƒá ponownie.", "subServicesTitle": "Lista prac:", "menuHome": "G≈Ç√≥wna", "menuPartners": "Nasi Partnerzy", "menuRoutes": "Trasy", "menuPromotions": "Promocje", "menuNews": "Nowo≈õci", "backButton": "Wr√≥ƒá", "addNewItem": "Dodaj nowy element", "contentItemName": "Nazwa", "contentItemDesc": "Opis", "contentItemImage": "Obraz", "contentItemTitle": "Tytu≈Ç", "contentItemText": "Tekst", "addImages": "Dodaj zdjƒôcia (mo≈ºna kilka)",
                    "confirmTitle": "Potwierdzenie", "confirmYes": "Tak", "confirmNo": "Nie", "alertSuccessTitle": "Sukces!", "alertErrorTitle": "B≈ÇƒÖd!", "alertInfoTitle": "Informacja",
                    "confirmDeleteImage": "Czy na pewno chcesz usunƒÖƒá to zdjƒôcie?", "confirmDeleteBike": "Czy na pewno chcesz usunƒÖƒá ten rower?", "confirmDeleteService": "Czy na pewno chcesz usunƒÖƒá tƒô grupƒô us≈Çug?", "confirmDeleteItem": "Czy na pewno chcesz usunƒÖƒá ten element?", "confirmResetDesign": "Czy na pewno chcesz zresetowaƒá wszystkie ustawienia wyglƒÖdu do domy≈õlnych?",
                    "imageDeleted": "Zdjƒôcie zosta≈Ço usuniƒôte.", "bikeSaved": "Zmiany zapisane!", "bikeDeleted": "Rower usuniƒôty!", "bikeAdded": "Nowy rower dodany pomy≈õlnie!", "serviceAdded": "Nowa grupa us≈Çug dodana!", "serviceDeleted": "Grupa us≈Çug usuniƒôta.", "serviceSaved": "Us≈Çuga zapisana!", "itemAdded": "Element dodany!", "itemSaved": "Element zapisany!", "itemDeleted": "Element usuniƒôty!", "settingsSaved": "Ustawienia zapisane!", "designReset": "Ustawienia zresetowane!", "contactsSaved": "Dane kontaktowe zapisane!", "invalidCode": "Nieprawid≈Çowy email lub has≈Ço", "fillRequiredFields": "Proszƒô wype≈Çniƒá wymagane pola: ", "selectImage": "Proszƒô wybraƒá co najmniej jeden plik obrazu.", "fillSubService": "Proszƒô podaƒá co najmniej rosyjskƒÖ nazwƒô i cenƒô.", "uploadingImages": "Przesy≈Çanie zdjƒôƒá...", "imageUploadError": "B≈ÇƒÖd przesy≈Çania zdjƒôƒá: ", "uploadProgress": "Przesy≈Çanie pliku {current} z {total}..."
                },
                "ua": { "uploadProgressPercent": "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: {percent}%", "themeLabel": "–¢–µ–º–∞", "headerTitle": "VELOKRAK", "headerSubtitle": "–ü—Ä–æ–∫–∞—Ç –µ–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥—ñ–≤ —É –ö—Ä–∞–∫–æ–≤—ñ", "chooseBike": "–û–±—Ä–∞—Ç–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥", "chooseBikeTitle": "–û–±–µ—Ä—ñ—Ç—å —Å–≤—ñ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥", "goToService": "–î–æ —Å–µ—Ä–≤—ñ—Å—É", "whereToFind": "–î–µ –Ω–∞—Å –∑–Ω–∞–π—Ç–∏", "phone": "–¢–µ–ª–µ—Ñ–æ–Ω", "email": "Email", "thanks": "–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –≤–∏–±—ñ—Ä!", "rentText": "–Ø–∫—â–æ –≤–∞–º –≤—Å–µ —Å–ø–æ–¥–æ–±–∞–ª–æ—Å—å —ñ –≤–∏ –∑–≥–æ–¥–Ω—ñ –æ—Ä–µ–Ω–¥—É–≤–∞—Ç–∏ —Ü–µ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥, –∑–≤'—è–∂—ñ—Ç—å—Å—è –∑ –Ω–∞–º–∏:", "contactVia": "–ê–±–æ –Ω–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º —É WhatsApp/Telegram –Ω–∞ —Ü–µ–π –Ω–æ–º–µ—Ä", "close": "–ó–∞–∫—Ä–∏—Ç–∏", "adminPanel": "–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞", "adminPanelUnlocked": "–ü–∞–Ω–µ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Ä–æ–∑–±–ª–æ–∫–æ–≤–∞–Ω–∞!", "manageBikes": "–í–µ–ª–æ—Å–∏–ø–µ–¥–∏", "addBike": "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –≤–µ–ª–æ—Å–∏–ø–µ–¥", "save": "–ó–±–µ—Ä–µ–≥—Ç–∏", "delete": "–í–∏–¥–∞–ª–∏—Ç–∏", "contacts": "–ö–æ–Ω—Ç–∞–∫—Ç–∏", "saveContacts": "–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∏", "serviceTitle": "–ù–∞—à—ñ –ü–æ—Å–ª—É–≥–∏", "serviceIntro": "–ù–∞—à –≥–æ–ª–æ–≤–Ω–∏–π –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç - –≤–∞—à–∞ –±–µ–∑–ø–µ–∫–∞ —Ç–∞ –∫–æ–º—Ñ–æ—Ä—Ç. –ú–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ç—ñ–ª—å–∫–∏ —è–∫—ñ—Å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏, –∞ –Ω–∞—à—ñ –º–∞–π—Å—Ç—Ä–∏ –º–∞—é—Ç—å –±–∞–≥–∞—Ç–æ—Ä—ñ—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥. –î–æ–≤—ñ—Ä—è—é—á–∏ –Ω–∞–º —Å–≤—ñ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥, –≤–∏ –æ–±–∏—Ä–∞—î—Ç–µ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å —Ç–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º.", "manageServices": "–ü–æ—Å–ª—É–≥–∏", "addNewServiceTitle": "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –ø–æ—Å–ª—É–≥—É", "addNewServiceBtn": "–î–æ–¥–∞—Ç–∏ –ø–æ—Å–ª—É–≥—É", "serviceNamePlaceholder": "–ù–∞–∑–≤–∞ –ø–æ—Å–ª—É–≥–∏", "serviceDescPlaceholder": "–û–ø–∏—Å –ø–æ—Å–ª—É–≥–∏", "editContactsTitle": "–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤", "priceFrom": "–≤—ñ–¥", "hour": "–ì–æ–¥–∏–Ω–∞", "day": "–î–µ–Ω—å", "week": "–¢–∏–∂–¥–µ–Ω—å", "month": "–ú—ñ—Å—è—Ü—å", "inStock": "–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ", "outOfStock": "–ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ", "adminInStock": "–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ", "callNow": "–£—Ç–æ—á–Ω–∏—Ç–∏ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å", "bookVisit": "–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –≤—ñ–∑–∏—Ç", "designTab": "–î–∏–∑–∞–π–Ω", "bookingTitle": "–ë—Ä–æ–Ω—é–≤–∞–Ω–Ω—è", "labelName": "–Ü–º'—è", "labelPhone": "–¢–µ–ª–µ—Ñ–æ–Ω", "labelBookingDate": "–î–∞—Ç–∞", "labelBookingPurpose": "–ú–µ—Ç–∞ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è", "optionRent": "–û—Ä–µ–Ω–¥–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞", "optionService": "–°–µ—Ä–≤—ñ—Å–Ω–µ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è", "submitBtnText": "–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –¥–∞–Ω—ñ", "namePlaceholder": "–Ø–∫ –¥–æ –≤–∞—Å –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è?", "phonePlaceholder": "+48 123 456 789", "purposeDefaultOption": "-- –í–∏–±–µ—Ä—ñ—Ç—å –∑—ñ —Å–ø–∏—Å–∫—É --", "bookingSuccessTitle": "–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ!", "bookingSuccessText": "–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à–µ –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è! –ú–∏ —Å–∫–æ—Ä–æ –∑ –≤–∞–º–∏ –∑–≤'—è–∂–µ–º–æ—Å—è.", "bookingErrorText": "–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.", "subServicesTitle": "–°–ø–∏—Å–æ–∫ —Ä–æ–±—ñ—Ç:", "menuHome": "–ì–æ–ª–æ–≤–Ω–∞", "menuPartners": "–ù–∞—à—ñ –ø–∞—Ä—Ç–Ω–µ—Ä–∏", "menuRoutes": "–ú–∞—Ä—à—Ä—É—Ç–∏", "menuPromotions": "–ê–∫—Ü—ñ—ó", "menuNews": "–ù–æ–≤–∏–Ω–∏", "backButton": "–ù–∞–∑–∞–¥", "addNewItem": "–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç", "contentItemName": "–ù–∞–∑–≤–∞", "contentItemDesc": "–û–ø–∏—Å", "contentItemImage": "–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è", "contentItemTitle": "–ó–∞–≥–æ–ª–æ–≤–æ–∫", "contentItemText": "–¢–µ–∫—Å—Ç", "addImages": "–î–æ–¥–∞—Ç–∏ —Ñ–æ—Ç–æ (–º–æ–∂–Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞)",
                    "confirmTitle": "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è", "confirmYes": "–¢–∞–∫", "confirmNo": "–ù—ñ", "alertSuccessTitle": "–£—Å–ø—ñ—Ö!", "alertErrorTitle": "–ü–æ–º–∏–ª–∫–∞!", "alertInfoTitle": "–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è",
                    "confirmDeleteImage": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è?", "confirmDeleteBike": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –≤–µ–ª–æ—Å–∏–ø–µ–¥?", "confirmDeleteService": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü—é –≥—Ä—É–ø—É –ø–æ—Å–ª—É–≥?", "confirmDeleteItem": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –µ–ª–µ–º–µ–Ω—Ç?", "confirmResetDesign": "–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ, —â–æ —Ö–æ—á–µ—Ç–µ —Å–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–∏–∑–∞–π–Ω—É –¥–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏—Ö?",
                    "imageDeleted": "–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤–∏–¥–∞–ª–µ–Ω–æ.", "bikeSaved": "–ó–º—ñ–Ω–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!", "bikeDeleted": "–í–µ–ª–æ—Å–∏–ø–µ–¥ –≤–∏–¥–∞–ª–µ–Ω–æ!", "bikeAdded": "–ù–æ–≤–∏–π –≤–µ–ª–æ—Å–∏–ø–µ–¥ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!", "serviceAdded": "–ù–æ–≤—É –≥—Ä—É–ø—É –ø–æ—Å–ª—É–≥ –¥–æ–¥–∞–Ω–æ!", "serviceDeleted": "–ì—Ä—É–ø—É –ø–æ—Å–ª—É–≥ –≤–∏–¥–∞–ª–µ–Ω–æ.", "serviceSaved": "–ü–æ—Å–ª—É–≥—É –∑–±–µ—Ä–µ–∂–µ–Ω–æ!", "itemAdded": "–ï–ª–µ–º–µ–Ω—Ç –¥–æ–¥–∞–Ω–æ!", "itemSaved": "–ï–ª–µ–º–µ–Ω—Ç –∑–±–µ—Ä–µ–∂–µ–Ω–æ!", "itemDeleted": "–ï–ª–µ–º–µ–Ω—Ç –≤–∏–¥–∞–ª–µ–Ω–æ!", "settingsSaved": "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ!", "designReset": "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∫–∏–Ω—É—Ç–æ!", "contactsSaved": "–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω–æ!", "invalidCode": "–ù–µ–≤—ñ—Ä–Ω–∏–π email –∞–±–æ –ø–∞—Ä–æ–ª—å", "fillRequiredFields": "–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è: ", "selectImage": "–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å —Ö–æ—á–∞ –± –æ–¥–∏–Ω —Ñ–∞–π–ª –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è.", "fillSubService": "–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –ø—Ä–∏–Ω–∞–π–º–Ω—ñ —Ä–æ—Å—ñ–π—Å—å–∫—É –Ω–∞–∑–≤—É —Ç–∞ —Ü—ñ–Ω—É.", "uploadingImages": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...", "imageUploadError": "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: ", "uploadProgress": "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ {current} –∏–∑ {total}..."
                }
            },
            "services": [], "bikes": [],
            "contacts": { "address": { "ru": "ul. ≈ÅƒÖkowa 10, 31-443 Krak√≥w, Polska", "pl": "ul. ≈ÅƒÖkowa 10, 31-443 Krak√≥w, Polska", "en": "≈ÅƒÖkowa 10, 31-443 Krak√≥w, Poland", "ua": "–≤—É–ª. –õ–æ–Ω–∫–æ–≤–∞ 10, 31-443 –ö—Ä–∞–∫—ñ–≤, –ü–æ–ª—å—â–∞" }, "phone": "+48537755628", "email": "info@velokrak.pl" },
            "design": {"--primary": "#8a2be2", "--primary-dark": "#6a1b9a", "--primary-light": "#b388ff", "--secondary": "#4b0082", "--dark": "#121212", "--darker": "#0a0a0a", "--light": "#f5f5f5", "--accent": "#ff4081", "--neon": "#e100ff", "--bike-title-color": "#b388ff", "--hero-image": "url(\"https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80\")", "--title-gradient": "linear-gradient(90deg, #8a2be2, #e100ff)"}
        };

        async function saveData() { if (!currentUser) { showAlertModal("–û—à–∏–±–∫–∞", "–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö."); return; } const dataToSave = { translations, services, bikes, contacts, design }; try { await setDoc(siteDataRef, dataToSave, { merge: true }); console.log("Data saved to Firebase!"); } catch (error) { console.error("Error saving data to Firebase: ", error); showAlertModal("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è", "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Firestore."); } }
        onSnapshot(siteDataRef, async (doc) => { if (doc.exists()) { const data = doc.data(); translations = data.translations; services = data.services; bikes = data.bikes; contacts = data.contacts; design = data.design; console.log("Data loaded from Firebase."); } else { console.log("No data in Firebase, initializing with default data."); translations = defaultData.translations; services = defaultData.services; bikes = defaultData.bikes; contacts = defaultData.contacts; design = defaultData.design; } initializeSite(); }, (error) => { console.error("Error fetching data from Firebase: ", error); translations = defaultData.translations; services = defaultData.services; bikes = defaultData.bikes; contacts = defaultData.contacts; design = defaultData.design; initializeSite(); });
        
        onAuthStateChanged(auth, (user) => { 
            console.log("Auth state changed. User:", user ? user.uid : "Not logged in");
            currentUser = user; 
            const adminPanel = document.getElementById('adminPanel'); 
            const adminLogin = document.getElementById('adminLogin'); 
            const adminContent = document.getElementById('adminContent'); 
            if (user) { 
                if(adminLogin) adminLogin.style.display = 'none'; 
                if(adminContent) { 
                    adminContent.style.display = 'block'; 
                    renderAdminPanels(); 
                } 
            } else { 
                if(adminLogin) adminLogin.style.display = 'block'; 
                if(adminContent) adminContent.style.display = 'none'; 
            } 
        });

        function filterNameInput(event) { event.target.value = event.target.value.replace(/[^A-Za-z–ê-–Ø–∞-—è–Å—ë\s]/g, ''); }
        function filterPhoneInput(event) { event.target.value = event.target.value.replace(/[^\d\+\-\(\)\s]/g, ''); }

        const setText = (id, text) => { const el = document.getElementById(id); if (el) el.textContent = text; };
        const setHtml = (id, html) => { const el = document.getElementById(id); if (el) el.innerHTML = html; };
        const setAttr = (id, attr, value) => { const el = document.getElementById(id); if (el) el.setAttribute(attr, value); };
        const setAdminTabText = (tab, text) => { const el = document.querySelector(`.admin-tab[data-tab="${tab}"]`); if(el) el.textContent = text; }
        const applyDesign = () => { if(design) {Object.keys(design).forEach(key => { document.documentElement.style.setProperty(key, design[key]); });} };
        
        const uploadFilesToStorage = async (files, path) => {
            // --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π ---
            console.log("Attempting to upload. Current user:", currentUser ? currentUser.uid : "None");
            if (!currentUser) {
                showAlertModal("–û—à–∏–±–∫–∞", "–í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Å–Ω–æ–≤–∞.");
                return Promise.reject("User not authenticated");
            }

            const lang = document.getElementById('language-switcher').value;
            const t = translations[lang];
            const filesArray = Array.from(files);
            const totalFiles = filesArray.length;
            const uploadedUrls = [];

            showAlertModal(t.uploadingImages, "", true);

            for (let i = 0; i < totalFiles; i++) {
                const file = filesArray[i];
                const fileName = `${Date.now()}-${file.name}`;
                const storageRef = ref(storage, `${path}/${fileName}`);
                const uploadTask = uploadBytesResumable(storageRef, file);

                setText('alertModalText', (t.uploadProgress || "Uploading file {current} of {total}...").replace('{current}', i + 1).replace('{total}', totalFiles));

                await new Promise((resolve, reject) => {
                    uploadTask.on('state_changed',
                        (snapshot) => {
                            // --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –î–æ–±–∞–≤–ª–µ–Ω –ª–æ–≥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ ---
                            console.log(`File ${i+1}/${totalFiles} state: ${snapshot.state}`);
                            const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                            const progressBar = document.getElementById('uploadProgressBar');
                            const progressTextEl = document.getElementById('uploadProgressText');
                            const percentTextTemplate = t.uploadProgressPercent || "Uploaded: {percent}%";
                            
                            if(progressBar) progressBar.style.width = progress + '%';
                            if(progressTextEl) progressTextEl.textContent = percentTextTemplate.replace('{percent}', Math.round(progress));
                        },
                        (error) => {
                            console.error(`[UPLOAD] –û–®–ò–ë–ö–ê –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–∞: ${fileName}`, error);
                            // --- –ò–ó–ú–ï–ù–ï–ù–ò–ï: –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ---
                            let errorMessage = `${t.imageUploadError} ${file.name}.`;
                            if (error.code === 'storage/unauthorized') {
                                errorMessage += " –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ Firebase.";
                            } else if (error.code === 'storage/object-not-found') {
                                errorMessage += " –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ 'storageBucket' –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.";
                            }
                            setText('alertModalTitle', t.alertErrorTitle);
                            setText('alertModalText', errorMessage);
                            document.getElementById('uploadProgressBarContainer').style.display = 'none';
                            reject(error);
                        },
                        async () => {
                            try {
                                const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);
                                uploadedUrls.push(downloadURL);
                                resolve();
                            } catch (error) {
                                console.error("[UPLOAD] –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è URL –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏", error);
                                reject(error);
                            }
                        }
                    );
                });
            }
            return uploadedUrls;
        };

        const renderSidebarMenu = (lang) => { const t = translations[lang] || translations.ru; const menuList = document.getElementById('sidebar-menu-list'); if (!menuList) return; menuList.innerHTML = `<li><a href="#" onclick="showDynamicContent('partners')">${t.menuPartners}</a></li><li><a href="#" onclick="showDynamicContent('routes')">${t.menuRoutes}</a></li><li><a href="#" onclick="showDynamicContent('promotions')">${t.menuPromotions}</a></li><li><a href="#" onclick="showDynamicContent('news')">${t.menuNews}</a></li>`; };
        const translatePage = (lang) => { const t = translations[lang] || translations.ru; document.documentElement.lang = lang; document.title = `${t.headerTitle} - ${t.headerSubtitle}`; setText('main-title', t.headerTitle); setText('header-subtitle', t.headerSubtitle); setText('choose-bike-btn', t.chooseBike); setText('choose-bike-title', t.chooseBikeTitle); setText('go-to-service-btn', t.goToService); setText('where-to-find', t.whereToFind); setText('booking-title', t.bookingTitle); setText('label-name', t.labelName); setAttr('name', 'placeholder', t.namePlaceholder); setText('label-phone', t.labelPhone); setAttr('phone', 'placeholder', t.phonePlaceholder); setText('label-booking-date', t.labelBookingDate); setText('label-booking-purpose', t.labelBookingPurpose); setText('option-rent', t.optionRent); setText('option-service', t.optionService); setText('option-purpose-default', t.purposeDefaultOption); setText('submit-btn', t.submitBtnText); setText('modal-thanks', t.thanks); setText('modal-rent-text', t.rentText); setHtml('contact-address', `üìç ${contacts.address[lang] || contacts.address.ru}`); setHtml('contact-phone', `${t.phone}: <a href="tel:${contacts.phone}" style="color: var(--text-primary); text-decoration: none;">${contacts.phone}</a>`); setHtml('contact-email', `${t.email}: <a href="mailto:${contacts.email}" style="color: var(--text-primary); text-decoration: none;">${contacts.email}</a>`); setHtml('modal-contact-phone', `${t.phone}: <a href="tel:${contacts.phone}" style="color: var(--primary-light);">${contacts.phone}</a>`); setText('modal-contact-via', t.contactVia); setText('modal-close', t.close); setText('admin-btn', t.adminPanel); setAdminTabText('bikes', t.manageBikes); setAdminTabText('service', t.manageServices); setAdminTabText('contacts', t.contacts); setAdminTabText('design', t.designTab); setAdminTabText('partners', t.menuPartners); setAdminTabText('routes', t.menuRoutes); setAdminTabText('promotions', t.menuPromotions); setAdminTabText('news', t.menuNews); setText('manage-bikes-title', t.manageBikes); setText('manage-services-title', t.manageServices); setText('add-new-bike-title', t.addBike); setText('add-new-bike-btn', t.addBike); setAttr('new-bike-images', 'aria-label', t.addImages); setText('add-new-service-btn', t.addNewServiceBtn); setText('edit-contacts-title', t.editContactsTitle); setText('save-contacts-btn', t.saveContacts); setText('theme-switch-label', t.themeLabel || 'Theme'); setText('alertModalClose', t.close); setText('confirmModalTitle', t.confirmTitle); setText('confirmModalYes', t.confirmYes); setText('confirmModalNo', t.confirmNo); renderBikes(lang); renderSidebarMenu(lang); };
        const renderBikes = (lang) => { const container = document.getElementById('bikes-container'); if (!container || !Array.isArray(bikes)) return; container.innerHTML = ''; const t = translations[lang] || translations.ru; bikes.forEach((bike) => { const bikeName = bike.name[lang] || bike.name.ru; const bikeFeatures = bike.features[lang] || bike.features.ru; const bikeCard = document.createElement('div'); bikeCard.className = 'bike-card section-animated'; bikeCard.dataset.bikeId = bike.id; const availabilityStatus = bike.inStock ? `<span class="availability-dot in-stock"></span> ${t.inStock}` : `<span class="availability-dot out-of-stock"></span> ${t.outOfStock}`; const images = bike.images && bike.images.length > 0 ? bike.images : ['https://placehold.co/800x600/333/ccc?text=No+Image']; const dotsHtml = images.map((_, index) => `<div class="gallery-dot ${index === 0 ? 'active' : ''}" data-index="${index}"></div>`).join(''); bikeCard.innerHTML = `<div class="bike-image-gallery"><img src="${images[0]}" alt="${bikeName}" data-index="0" onerror="this.onerror=null;this.src='https://placehold.co/800x600/333/ccc?text=Image+Error';">${images.length > 1 ? `<button class="gallery-nav prev" onclick="changeBikeImage(event, -1)">&#10094;</button><button class="gallery-nav next" onclick="changeBikeImage(event, 1)">&#10095;</button>` : ''}<div class="gallery-dots">${dotsHtml}</div></div><div class="bike-info"><h3 class="bike-title">${bikeName}</h3><p class="bike-features">${bikeFeatures}</p><div class="price-highlight-horizontal"><span class="price-value">${bike.priceWeek} z≈Ç</span><span class="price-period"> / ${t.week}</span></div><div class="other-prices-horizontal">${t.hour}: <strong>${bike.priceHour}z≈Ç</strong> &bull; ${t.day}: <strong>${bike.priceDay}z≈Ç</strong> &bull; ${t.month}: <strong>${bike.priceMonth}z≈Ç</strong></div><p class="bike-availability">${availabilityStatus}</p><div class="bike-buttons-container"><a href="tel:${contacts.phone}" class="btn">${t.callNow}</a><a href="#booking" class="btn" onclick="bookSpecificBike(${bike.id})">${t.bookVisit}</a></div></div>`; container.appendChild(bikeCard); }); observeAnimatedElements(); };
        window.changeBikeImage = (event, direction) => { event.stopPropagation(); const gallery = event.target.closest('.bike-image-gallery'); const bikeCard = event.target.closest('.bike-card'); const bikeId = parseInt(bikeCard.dataset.bikeId); const bike = bikes.find(b => b.id === bikeId); if (!bike || !bike.images || bike.images.length <= 1) return; const imageEl = gallery.querySelector('img'); const dots = gallery.querySelectorAll('.gallery-dot'); let currentIndex = parseInt(imageEl.dataset.index); currentIndex += direction; if (currentIndex < 0) { currentIndex = bike.images.length - 1; } else if (currentIndex >= bike.images.length) { currentIndex = 0; } imageEl.src = bike.images[currentIndex]; imageEl.dataset.index = currentIndex; dots.forEach((dot, index) => { dot.classList.toggle('active', index === currentIndex); }); };
        window.showDynamicContent = (sectionName) => { const lang = document.getElementById('language-switcher').value || 'ru'; const t = translations[lang]; const mainView = document.querySelector('main'); const dynamicView = document.getElementById('dynamic-content-view'); const titleEl = document.getElementById('dynamic-content-title'); const bodyEl = document.getElementById('dynamic-content-body'); mainView.style.display = 'none'; dynamicView.style.display = 'block'; bodyEl.innerHTML = ''; let titleText = ''; let contentHtml = ''; const sectionData = t[sectionName] || []; bodyEl.className = 'dynamic-content-body'; switch(sectionName) { case 'partners': case 'routes': titleText = sectionName === 'partners' ? t.menuPartners : t.menuRoutes; bodyEl.classList.add('dynamic-content-body-grid-2'); contentHtml = sectionData.map(item => `<div class="content-card"><img src="${item.image}" alt="${item.name}" class="content-card-image" onerror="this.onerror=null;this.src='https://placehold.co/800x600/333/ccc?text=Image+Error';"><div class="content-card-body"><h3>${item.name}</h3><p>${item.description}</p></div></div>`).join(''); break; case 'promotions': case 'news': titleText = sectionName === 'promotions' ? t.menuPromotions : t.menuNews; bodyEl.classList.add('dynamic-content-body-grid-1'); contentHtml = sectionData.map(item => `<div class="content-card"><img src="${item.image}" alt="${item.title}" class="content-card-image" onerror="this.onerror=null;this.src='https://placehold.co/800x600/333/ccc?text=Image+Error';"><div class="content-card-body"><h3>${item.title}</h3><p>${item.text}</p></div></div>`).join(''); break; } titleEl.textContent = titleText; setText('back-to-main-btn', t.backButton); closeSidebar(); window.scrollTo(0, 0); };
        window.hideDynamicContent = () => { document.querySelector('main').style.display = 'block'; document.getElementById('dynamic-content-view').style.display = 'none'; }
        window.openServiceModal = () => { const lang = document.getElementById('language-switcher').value || 'ru'; const t = translations[lang]; const listContainer = document.getElementById('modal-service-list'); const title = document.getElementById('modal-service-title'); const intro = document.getElementById('modal-service-intro'); if (!listContainer || !services || !Array.isArray(services)) return; title.textContent = t.serviceTitle; intro.textContent = t.serviceIntro; listContainer.innerHTML = ''; services.forEach((service, index) => { if (!service.visible) return; let subServicesHtml = ''; if (service.subServices && service.subServices.length > 0) { const sublist = service.subServices.map(sub => { const subName = (sub.name && sub.name[lang]) ? sub.name[lang] : (sub.name['ru'] || 'Unnamed service'); return `<li><span class="sub-service-name">${subName}</span><span class="sub-service-price">${sub.price} z≈Ç</span></li>`; }).join(''); subServicesHtml = `<h4 style="margin-top: 20px; text-align: left; color: var(--primary-light);">${t.subServicesTitle}</h4><ul class="service-sublist-modal">${sublist}</ul>`; } const accordionItem = document.createElement('div'); accordionItem.className = 'service-accordion-item'; accordionItem.innerHTML = `<div class="service-accordion-header"><h3>${service.name[lang] || ''}</h3></div><div class="service-accordion-content"><div class="service-accordion-content-inner"><img src="${service.image}" alt="${service.name[lang] || ''}" class="service-card-image" style="margin-bottom: 15px; border-radius: 10px;" onerror="this.onerror=null;this.src='https://placehold.co/800x600/333/ccc?text=Image+Error';"><p>${service.description[lang] || ''}</p>${subServicesHtml}<div class="service-card-footer"><a href="tel:${contacts.phone}" class="btn">${t.callNow}</a><a href="#booking" class="btn" onclick="bookSpecificService(${service.id})">${t.bookVisit}</a></div></div></div>`; listContainer.appendChild(accordionItem); accordionItem.querySelector('.service-accordion-header').addEventListener('click', function() { const item = this.parentElement; const content = this.nextElementSibling; if (item.classList.contains('active')) { content.style.maxHeight = null; item.classList.remove('active'); } else { item.classList.add('active'); content.style.maxHeight = content.scrollHeight + "px"; } }); }); document.getElementById('serviceModal').style.display = 'flex'; };
        const renderServiceCheckboxes = () => { const container = document.getElementById('service-selection-container'); const lang = document.getElementById('language-switcher').value || 'ru'; if (!container) return; container.innerHTML = ''; services.forEach(service => { if (!service.visible) return; const serviceName = (service.name && service.name[lang]) ? service.name[lang] : (service.name['ru'] || `Service ${service.id}`); const checkboxDiv = document.createElement('div'); checkboxDiv.innerHTML = `<label for="service-checkbox-${service.id}"><input type="checkbox" name="services_needed[]" id="service-checkbox-${service.id}" value="${serviceName}"> ${serviceName}</label>`; container.appendChild(checkboxDiv); }); };
        const renderBikeCheckboxes = () => { const container = document.getElementById('bike-selection-container'); const lang = document.getElementById('language-switcher').value || 'ru'; if (!container) return; container.innerHTML = ''; bikes.forEach((bike) => { const bikeName = bike.name[lang] || bike.name.ru; const checkboxDiv = document.createElement('div'); checkboxDiv.innerHTML = `<label for="bike-checkbox-${bike.id}"><input type="checkbox" name="bikes_needed[]" id="bike-checkbox-${bike.id}" value="${bikeName}"> ${bikeName}</label>`; container.appendChild(checkboxDiv); }); };
        window.bookSpecificService = (serviceId) => { closeServiceModal(); const purposeSelect = document.getElementById('booking-purpose'); purposeSelect.value = "–°–µ—Ä–≤–∏—Å"; purposeSelect.dispatchEvent(new Event('change')); const checkbox = document.getElementById(`service-checkbox-${serviceId}`); if (checkbox) { checkbox.checked = true; } };
        window.bookSpecificBike = (bikeId) => { const purposeSelect = document.getElementById('booking-purpose'); purposeSelect.value = "–ê—Ä–µ–Ω–¥–∞"; purposeSelect.dispatchEvent(new Event('change')); const checkbox = document.getElementById(`bike-checkbox-${bikeId}`); if (checkbox) { checkbox.checked = true; } };
        let onConfirmCallback = null;
        window.showConfirmModal = (text, onConfirm) => { document.getElementById('confirmModalText').textContent = text; document.getElementById('confirmModal').style.display = 'flex'; onConfirmCallback = onConfirm; };
        window.closeConfirmModal = () => { document.getElementById('confirmModal').style.display = 'none'; onConfirmCallback = null; };
        
        window.showAlertModal = (title, text, showProgressBar = false) => {
            document.getElementById('alertModalTitle').textContent = title;
            document.getElementById('alertModalText').textContent = text;
            const progressBarContainer = document.getElementById('uploadProgressBarContainer');
            if (showProgressBar) {
                progressBarContainer.style.display = 'block';
                document.getElementById('uploadProgressBar').style.width = '0%';
                document.getElementById('uploadProgressText').textContent = '';
            } else {
                progressBarContainer.style.display = 'none';
            }
            document.getElementById('alertModal').style.display = 'flex';
        };
        window.closeAlertModal = () => {
             document.getElementById('alertModal').style.display = 'none';
             document.getElementById('uploadProgressBarContainer').style.display = 'none';
        };

        window.closeServiceModal = () => { document.getElementById('serviceModal').style.display = 'none'; };
        window.openModal = () => document.getElementById('rentModal').style.display = 'flex';
        window.closeModal = () => document.getElementById('rentModal').style.display = 'none';
        window.toggleAdminPanel = () => { const panel = document.getElementById('adminPanel'); panel.style.display = panel.style.display === 'block' ? 'none' : 'block'; if (panel.style.display === 'block') { if(!currentUser){ document.getElementById('adminLogin').scrollIntoView({ behavior: 'smooth', block: 'center' }); } else { panel.scrollIntoView({ behavior: 'smooth', block: 'center' }); } } };
        window.signInAdmin = () => { const email = document.getElementById('admin-email').value; const password = document.getElementById('admin-password').value; const lang = document.getElementById('language-switcher').value; const t = translations[lang]; signInWithEmailAndPassword(auth, email, password) .catch((error) => { console.error("Admin sign-in error", error); showAlertModal(t.alertErrorTitle, t.invalidCode); }); };
        window.signOutAdmin = () => { signOut(auth).catch((error) => { console.error("Sign-out error", error); }); };
        window.switchTab = (tabName) => { document.querySelectorAll('.admin-tab').forEach(tab => tab.classList.remove('active')); document.querySelectorAll('.admin-content > div[id$="-tab"]').forEach(tabContent => tabContent.style.display = 'none'); document.querySelector(`.admin-tab[data-tab="${tabName}"]`).classList.add('active'); const tabContent = document.getElementById(`admin-${tabName}-tab`); if (tabContent) tabContent.style.display = 'block'; };
        const renderAdminPanels = () => { renderAdminBikesList(); renderAdminServicesList(); renderAdminContentSection('partners'); renderAdminContentSection('routes'); renderAdminContentSection('promotions'); renderAdminContentSection('news'); renderAdminContacts(); renderAdminDesign(); };
        const renderAdminBikesList = () => { const list = document.getElementById('bikes-list'); list.innerHTML = ''; const t = translations['ru'] || {}; bikes.forEach((bike, index) => { const item = document.createElement('div'); item.className = 'admin-bike-item'; const langFields = Object.keys(translations).map(lang => `<h4>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —è–∑—ã–∫–∞: ${lang.toUpperCase()}</h4><label>–ù–∞–∑–≤–∞–Ω–∏–µ (${lang}):</label><input type="text" id="name-${lang}-${bike.id}" value="${bike.name[lang] || ''}"><label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (${lang}):</label><textarea id="features-${lang}-${bike.id}" rows="3">${bike.features[lang] || ''}</textarea>`).join(''); const imagePreviews = (bike.images || []).map((imgSrc, imgIndex) => `<div class="admin-image-preview-wrapper"><img src="${imgSrc}" class="admin-image-preview" onerror="this.onerror=null;this.src='https://placehold.co/150x100/c9302c/ffffff?text=Error';"><button class="delete-image-btn" onclick="deleteBikeImage(${index}, ${imgIndex})">&times;</button></div>`).join(''); item.innerHTML = `<h3>${bike.name.ru || `–í–µ–ª–æ—Å–∏–ø–µ–¥ ID: ${bike.id}`} (ID: ${bike.id})</h3>${langFields}<hr style="margin: 20px 0;"><h4>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4><label>–¶–µ–Ω–∞ –∑–∞ —á–∞—Å (PLN):</label> <input type="number" id="price-hour-${bike.id}" value="${bike.priceHour}"><label>–¶–µ–Ω–∞ –∑–∞ –¥–µ–Ω—å (PLN):</label> <input type="number" id="price-day-${bike.id}" value="${bike.priceDay}"><label>–¶–µ–Ω–∞ –∑–∞ –Ω–µ–¥–µ–ª—é (PLN):</label> <input type="number" id="price-week-${bike.id}" value="${bike.priceWeek}"><label>–¶–µ–Ω–∞ –∑–∞ –º–µ—Å—è—Ü (PLN):</label> <input type="number" id="price-month-${bike.id}" value="${bike.priceMonth}"><label><input type="checkbox" id="inStock-${bike.id}" ${bike.inStock ? 'checked' : ''}> ${t.adminInStock || '–í –Ω–∞–ª–∏—á–∏–∏'}</label><label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label><div class="admin-images-preview-container">${imagePreviews}</div><label for="images-${bike.id}">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ç–æ:</label><input type="file" id="images-${bike.id}" accept="image/*" multiple><button class="btn" onclick="saveBike(${index})">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button><button class="btn" onclick="deleteBike(${index})" style="background: #c9302c; margin-top: 10px;">–£–¥–∞–ª–∏—Ç—å</button>`; list.appendChild(item); }); };
        window.deleteBikeImage = (bikeIndex, imageIndex) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showConfirmModal(t.confirmDeleteImage, () => { const imageUrlToDelete = bikes[bikeIndex].images[imageIndex]; bikes[bikeIndex].images.splice(imageIndex, 1); saveData(); const imageRef = ref(storage, imageUrlToDelete); deleteObject(imageRef).then(() => { console.log("Image deleted from Storage"); renderAdminBikesList(); showAlertModal(t.alertSuccessTitle, t.imageDeleted); }).catch(error => { console.error("Error deleting image from Storage:", error); renderAdminBikesList(); showAlertModal(t.alertErrorTitle, "–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞."); }); }); };
        window.saveBike = async (index) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const bike = bikes[index]; if (!bike) return; const imageInput = document.getElementById(`images-${bike.id}`); if (imageInput.files.length > 0) { try { const newImageUrls = await uploadFilesToStorage(imageInput.files, 'bike-images'); if (!bike.images) bike.images = []; bike.images.push(...newImageUrls); imageInput.value = ''; } catch (error) { console.error("Error uploading images:", error); return; } } bike.inStock = document.getElementById(`inStock-${bike.id}`).checked; bike.priceHour = Number(document.getElementById(`price-hour-${bike.id}`).value); bike.priceDay = Number(document.getElementById(`price-day-${bike.id}`).value); bike.priceWeek = Number(document.getElementById(`price-week-${bike.id}`).value); bike.priceMonth = Number(document.getElementById(`price-month-${bike.id}`).value); Object.keys(translations).forEach(lang => { bike.name[lang] = document.getElementById(`name-${lang}-${bike.id}`).value; bike.features[lang] = document.getElementById(`features-${lang}-${bike.id}`).value; }); await saveData(); renderBikes(lang); renderAdminBikesList(); showAlertModal(t.alertSuccessTitle, t.bikeSaved); };
        window.deleteBike = (index) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showConfirmModal(t.confirmDeleteBike, () => { const bikeToDelete = bikes[index]; if (bikeToDelete.images && bikeToDelete.images.length > 0) { const deletePromises = bikeToDelete.images.map(imageUrl => { try { const imageRef = ref(storage, imageUrl); return deleteObject(imageRef); } catch(e) { console.error("Invalid image URL, skipping deletion:", imageUrl, e); return Promise.resolve(); } }); Promise.all(deletePromises) .then(() => console.log("All bike images deleted from Storage.")) .catch(err => console.error("Error deleting some bike images from Storage:", err)); } bikes.splice(index, 1); saveData(); renderAdminBikesList(); renderBikes(lang); showAlertModal(t.alertSuccessTitle, t.bikeDeleted); }); };
        window.addNewBike = async () => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; try { const imageInput = document.getElementById('new-bike-images'); if (imageInput.files.length === 0) { showAlertModal(t.alertErrorTitle, t.selectImage); return; } const requiredFields = [ { el: document.getElementById('new-bike-name-ru'), name: "–ù–∞–∑–≤–∞–Ω–∏–µ (RU)" }, { el: document.getElementById('new-bike-price-hour'), name: "–¶–µ–Ω–∞ –∑–∞ —á–∞—Å" }, { el: document.getElementById('new-bike-price-day'), name: "–¶–µ–Ω–∞ –∑–∞ –¥–µ–Ω—å" }, { el: document.getElementById('new-bike-price-week'), name: "–¶–µ–Ω–∞ –∑–∞ –Ω–µ–¥–µ–ª—é" }, { el: document.getElementById('new-bike-price-month'), name: "–¶–µ–Ω–∞ –∑–∞ –º–µ—Å—è—Ü" } ]; const missingFields = requiredFields.filter(field => !field.el.value.trim()).map(field => field.name); if (missingFields.length > 0) { showAlertModal(t.alertErrorTitle, `${t.fillRequiredFields}${missingFields.join(', ')}`); return; } const newImageUrls = await uploadFilesToStorage(imageInput.files, 'bike-images'); const newId = bikes.length > 0 ? Math.max(...bikes.map(b => b.id)) + 1 : 1; const newBike = { id: newId, priceHour: Number(document.getElementById('new-bike-price-hour').value), priceDay: Number(document.getElementById('new-bike-price-day').value), priceWeek: Number(document.getElementById('new-bike-price-week').value), priceMonth: Number(document.getElementById('new-bike-price-month').value), inStock: document.getElementById('new-bike-inStock').checked, images: newImageUrls, name: {}, features: {} }; const ruName = document.getElementById('new-bike-name-ru').value.trim(); const ruFeatures = document.getElementById('new-bike-features-ru').value.trim(); Object.keys(translations).forEach(lang => { const name = document.getElementById(`new-bike-name-${lang}`).value.trim(); const features = document.getElementById(`new-bike-features-${lang}`).value.trim(); newBike.name[lang] = name || ruName; newBike.features[lang] = features || ruFeatures; }); bikes.push(newBike); await saveData(); document.getElementById('add-bike-form').reset(); renderAdminBikesList(); renderBikes(lang); showAlertModal(t.alertSuccessTitle, t.bikeAdded); } catch (error) { console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞:", error); } };
        const renderAdminServicesList = () => { const list = document.getElementById('admin-service-list'); list.innerHTML = ''; services.forEach((service, serviceIndex) => { const item = document.createElement('div'); item.className = 'admin-service-item'; let langFields = ''; Object.keys(translations).forEach(lang => { langFields += `<div><label>–ù–∞–∑–≤–∞–Ω–∏–µ (${lang.toUpperCase()}):</label><input type="text" id="service-name-${lang}-${service.id}" value="${service.name[lang] || ''}"><label>–û–ø–∏—Å–∞–Ω–∏–µ (${lang.toUpperCase()}):</label><textarea id="service-desc-${lang}-${service.id}" rows="3">${service.description[lang] || ''}</textarea></div>`; }); let subServicesHtml = (service.subServices || []).map((sub, subIndex) => `<div class="sub-service-item" id="sub-service-${service.id}-${subIndex}"><input type="text" value="${sub.name.ru || ''}" id="sub-service-name-ru-${service.id}-${subIndex}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (RU)"><input type="text" value="${sub.name.en || ''}" id="sub-service-name-en-${service.id}-${subIndex}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (EN)"><input type="text" value="${sub.name.pl || ''}" id="sub-service-name-pl-${service.id}-${subIndex}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (PL)"><input type="text" value="${sub.name.ua || ''}" id="sub-service-name-ua-${service.id}-${subIndex}" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (UA)"><input type="number" value="${sub.price}" id="sub-service-price-${service.id}-${subIndex}" placeholder="–¶–µ–Ω–∞"><button class="sub-service-delete-btn" onclick="deleteSubService(${serviceIndex}, ${subIndex})">&times;</button></div>`).join(''); item.innerHTML = `<h3>${(service.name && service.name['ru']) || '–ù–æ–≤–∞—è —É—Å–ª—É–≥–∞'} (ID: ${service.id})</h3><label><input type="checkbox" id="service-visible-${service.id}" ${service.visible ? 'checked' : ''}> <b>–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –Ω–∞ —Å–∞–π—Ç–µ</b></label><button class="btn" onclick="deleteService(${serviceIndex})" style="background: #c9302c; float: right;">–£–¥–∞–ª–∏—Ç—å</button><hr><div class="admin-form-group">${langFields}</div><hr><h4>–û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h4><label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label><img src="${service.image}" class="admin-image-preview" onerror="this.onerror=null;this.src='https://placehold.co/150x100/c9302c/ffffff?text=Error';"><input type="file" id="service-image-${service.id}" accept="image/*"><label>–¶–µ–Ω–∞ "–æ—Ç" (PLN):</label> <input type="number" id="service-price-${service.id}" value="${service.priceFrom || 0}"><hr><h4>–ü–æ–¥—É—Å–ª—É–≥–∏</h4><div class="sub-service-list">${subServicesHtml}</div><div style="display:flex; flex-wrap: wrap; gap:10px;"><input style="flex-basis: 48%;" type="text" id="new-sub-service-name-ru-${service.id}" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –ø–æ–¥—É—Å–ª—É–≥–∏ (RU)"><input style="flex-basis: 48%;" type="text" id="new-sub-service-name-en-${service.id}" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –ø–æ–¥—É—Å–ª—É–≥–∏ (EN)"><input style="flex-basis: 48%;" type="text" id="new-sub-service-name-pl-${service.id}" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –ø–æ–¥—É—Å–ª—É–≥–∏ (PL)"><input style="flex-basis: 48%;" type="text" id="new-sub-service-name-ua-${service.id}" placeholder="–¢–µ–∫—Å—Ç –Ω–æ–≤–æ–π –ø–æ–¥—É—Å–ª—É–≥–∏ (UA)"><input style="flex-basis: 48%;" type="number" id="new-sub-service-price-${service.id}" placeholder="–¶–µ–Ω–∞"><button class="btn" style="flex-basis: 48%;" onclick="addSubService(${serviceIndex})">–î–æ–±–∞–≤–∏—Ç—å</button></div><hr style="margin-top: 20px;"><button class="btn" onclick="saveService(${serviceIndex})">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç—É —É—Å–ª—É–≥—É</button>`; list.appendChild(item); }); };
        window.addNewService = () => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const newId = services.length > 0 ? Math.max(...services.map(s => s.id)) + 1 : 1; const newService = { id: newId, visible: true, priceFrom: 0, image: "https://placehold.co/800x600/333/ccc?text=New+Service", name: { ru: "–ù–æ–≤–∞—è —É—Å–ª—É–≥–∞", ua: "–ù–æ–≤–∞ –ø–æ—Å–ª—É–≥–∞", pl: "Nowa us≈Çuga", en: "New Service" }, description: { ru: "–û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Å–ª—É–≥–∏.", ua: "–û–ø–∏—Å –Ω–æ–≤–æ—ó –ø–æ—Å–ª—É–≥–∏.", pl: "Opis nowej us≈Çugi.", en: "Description of the new service." }, subServices: [] }; services.push(newService); saveData(); renderAdminServicesList(); showAlertModal(t.alertSuccessTitle, t.serviceAdded); };
        window.deleteService = (serviceIndex) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showConfirmModal(t.confirmDeleteService, () => { services.splice(serviceIndex, 1); saveData(); renderAdminServicesList(); showAlertModal(t.alertSuccessTitle, t.serviceDeleted); }); };
        window.saveService = async (serviceIndex) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const service = services[serviceIndex]; if (!service) return; const imageInput = document.getElementById(`service-image-${service.id}`); if (imageInput.files[0]) { try { const newImageUrls = await uploadFilesToStorage(imageInput.files, 'service-images'); service.image = newImageUrls[0]; } catch (error) { return; } } service.visible = document.getElementById(`service-visible-${service.id}`).checked; service.priceFrom = Number(document.getElementById(`service-price-${service.id}`).value); Object.keys(translations).forEach(lang => { service.name[lang] = document.getElementById(`service-name-${lang}-${service.id}`).value; service.description[lang] = document.getElementById(`service-desc-${lang}-${service.id}`).value; }); const newSubServices = []; let i = 0; while(document.getElementById(`sub-service-price-${service.id}-${i}`)) { const price = Number(document.getElementById(`sub-service-price-${service.id}-${i}`).value); const name_ru = document.getElementById(`sub-service-name-ru-${service.id}-${i}`).value; const name_en = document.getElementById(`sub-service-name-en-${service.id}-${i}`).value; const name_pl = document.getElementById(`sub-service-name-pl-${service.id}-${i}`).value; const name_ua = document.getElementById(`sub-service-name-ua-${service.id}-${i}`).value; if(name_ru) { newSubServices.push({ price, name: { ru: name_ru, en: name_en, pl: name_pl, ua: name_ua } }); } i++; } service.subServices = newSubServices; await saveData(); renderAdminServicesList(); showAlertModal(t.alertSuccessTitle, t.serviceSaved); };
        window.deleteSubService = (serviceIndex, subIndex) => { const service = services[serviceIndex]; if (!service || !service.subServices) return; service.subServices.splice(subIndex, 1); saveData(); renderAdminServicesList(); }
        window.addSubService = (serviceIndex) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const service = services[serviceIndex]; const name_ru = document.getElementById(`new-sub-service-name-ru-${service.id}`); const name_en = document.getElementById(`new-sub-service-name-en-${service.id}`); const name_pl = document.getElementById(`new-sub-service-name-pl-${service.id}`); const name_ua = document.getElementById(`new-sub-service-name-ua-${service.id}`); const priceInput = document.getElementById(`new-sub-service-price-${service.id}`); if (!service || !name_ru.value || !priceInput.value) { showAlertModal(t.alertErrorTitle, t.fillSubService); return; }; if(!service.subServices) service.subServices = []; service.subServices.push({ price: Number(priceInput.value), name: { ru: name_ru.value, en: name_en.value, pl: name_pl.value, ua: name_ua.value } }); name_ru.value = ''; name_en.value = ''; name_pl.value = ''; name_ua.value = ''; priceInput.value = ''; saveData(); renderAdminServicesList(); }
        const renderAdminContentSection = (sectionName) => { const container = document.getElementById(`admin-${sectionName}-tab`); if (!container) return; const t_ru = translations.ru; const title = t_ru[`menu${sectionName.charAt(0).toUpperCase() + sectionName.slice(1)}`]; const hasDesc = (sectionName === 'partners' || sectionName === 'routes'); const hasText = (sectionName === 'promotions' || sectionName === 'news'); let itemsHtml = ''; (translations.ru[sectionName] || []).forEach((_, index) => { const itemId = translations.ru[sectionName][index].id; let langFields = ''; Object.keys(translations).forEach(lang => { const item = (translations[lang][sectionName] || []).find(i => i.id === itemId) || {}; const nameLabel = translations[lang].contentItemName || 'Name'; const descLabel = translations[lang].contentItemDesc || 'Description'; const titleLabel = translations[lang].contentItemTitle || 'Title'; const textLabel = translations[lang].contentItemText || 'Text'; langFields += `<h4>${lang.toUpperCase()}</h4>`; if (hasDesc) { langFields += `<label>${nameLabel}:</label><input type="text" id="content-name-${sectionName}-${lang}-${itemId}" value="${item.name || ''}">`; langFields += `<label>${descLabel}:</label><textarea id="content-desc-${sectionName}-${lang}-${itemId}">${item.description || ''}</textarea>`; } if (hasText) { langFields += `<label>${titleLabel}:</label><input type="text" id="content-title-${sectionName}-${lang}-${itemId}" value="${item.title || ''}">`; langFields += `<label>${textLabel}:</label><textarea id="content-text-${sectionName}-${lang}-${itemId}">${item.text || ''}</textarea>`; } }); const imageLabel = t_ru.contentItemImage || 'Image'; itemsHtml += `<div class="admin-content-item"><button class="btn" onclick="deleteContentItem('${sectionName}', ${index})" style="background: #c9302c; float: right;">${t_ru.delete}</button><h3>Item ID: ${itemId}</h3><div class="admin-form-group">${langFields}</div><hr><label>${imageLabel}:</label><img src="${translations.ru[sectionName][index].image || ''}" class="admin-image-preview" onerror="this.onerror=null;this.src='https://placehold.co/150x100/c9302c/ffffff?text=Error';"><input type="file" id="content-image-${sectionName}-${itemId}" accept="image/*"><button class="btn" onclick="saveContentItem('${sectionName}', ${index})">${t_ru.save}</button></div>`; }); let newFormFields = ''; if (hasDesc) { newFormFields = Object.keys(translations).map(lang => `<div><label>${translations[lang].contentItemName} (${lang.toUpperCase()})</label><input id="new-content-name-${sectionName}-${lang}" type="text"><label>${translations[lang].contentItemDesc} (${lang.toUpperCase()})</label><textarea id="new-content-desc-${sectionName}-${lang}"></textarea></div>`).join(''); } if (hasText) { newFormFields = Object.keys(translations).map(lang => `<div><label>${translations[lang].contentItemTitle} (${lang.toUpperCase()})</label><input id="new-content-title-${sectionName}-${lang}" type="text"><label>${translations[lang].contentItemText} (${lang.toUpperCase()})</label><textarea id="new-content-text-${sectionName}-${lang}"></textarea></div>`).join(''); } container.innerHTML = `<h2>${title}</h2><div id="content-list-${sectionName}">${itemsHtml}</div><hr><div class="admin-form"><h3>${t_ru.addNewItem}</h3><div class="admin-form-group">${newFormFields}</div><label>${t_ru.contentItemImage}:</label><input id="new-content-image-${sectionName}" type="file" accept="image/*" required><button class="btn" onclick="addContentItem('${sectionName}')">${t_ru.addNewItem}</button></div>`; };
        window.addContentItem = async (sectionName) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const imageInput = document.getElementById(`new-content-image-${sectionName}`); if (!imageInput.files[0]) { showAlertModal(t.alertErrorTitle, t.selectImage); return; } const newImageUrls = await uploadFilesToStorage(imageInput.files, `${sectionName}-images`); const hasDesc = (sectionName === 'partners' || sectionName === 'routes'); const hasText = (sectionName === 'promotions' || sectionName === 'news'); let maxId = 0; if (translations.ru[sectionName] && translations.ru[sectionName].length > 0) { maxId = Math.max(...translations.ru[sectionName].map(i => i.id)); } const newId = maxId + 1; Object.keys(translations).forEach(lang => { if (!translations[lang][sectionName]) translations[lang][sectionName] = []; const newItem = { id: newId, image: newImageUrls[0] }; if (hasDesc) { newItem.name = document.getElementById(`new-content-name-${sectionName}-${lang}`).value; newItem.description = document.getElementById(`new-content-desc-${sectionName}-${lang}`).value; } if (hasText) { newItem.title = document.getElementById(`new-content-title-${sectionName}-${lang}`).value; newItem.text = document.getElementById(`new-content-text-${sectionName}-${lang}`).value; } translations[lang][sectionName].push(newItem); }); await saveData(); renderAdminContentSection(sectionName); showAlertModal(t.alertSuccessTitle, t.itemAdded); };
        window.saveContentItem = async (sectionName, index) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; const hasDesc = (sectionName === 'partners' || sectionName === 'routes'); const hasText = (sectionName === 'promotions' || sectionName === 'news'); const itemId = translations.ru[sectionName][index].id; const imageInput = document.getElementById(`content-image-${sectionName}-${itemId}`); let newImageUrl = translations.ru[sectionName][index].image; if (imageInput.files[0]) { const newImageUrls = await uploadFilesToStorage(imageInput.files, `${sectionName}-images`); newImageUrl = newImageUrls[0]; } Object.keys(translations).forEach(lang => { const item = (translations[lang][sectionName] || []).find(i => i.id === itemId); if(item) { item.image = newImageUrl; if (hasDesc) { item.name = document.getElementById(`content-name-${sectionName}-${lang}-${itemId}`).value; item.description = document.getElementById(`content-desc-${sectionName}-${lang}-${itemId}`).value; } if (hasText) { item.title = document.getElementById(`content-title-${sectionName}-${lang}-${itemId}`).value; item.text = document.getElementById(`content-text-${sectionName}-${lang}-${itemId}`).value; } } }); await saveData(); renderAdminContentSection(sectionName); showAlertModal(t.alertSuccessTitle, t.itemSaved); };
        window.deleteContentItem = (sectionName, index) => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showConfirmModal(t.confirmDeleteItem, () => { const itemIdToDelete = translations.ru[sectionName][index].id; Object.keys(translations).forEach(lang => { const itemIndex = (translations[lang][sectionName] || []).findIndex(i => i.id === itemIdToDelete); if (itemIndex > -1) { translations[lang][sectionName].splice(itemIndex, 1); } }); saveData(); renderAdminContentSection(sectionName); showAlertModal(t.alertSuccessTitle, t.itemDeleted); }); };
        const renderAdminContacts = () => { const container = document.getElementById('edit-address-inputs'); container.innerHTML = ''; Object.keys(contacts.address).forEach(lang => { container.innerHTML += `<label>–ê–¥—Ä–µ—Å (${lang.toUpperCase()}):</label><input type="text" id="edit-address-${lang}" value="${contacts.address[lang] || ''}">`; }); document.getElementById('edit-phone').value = contacts.phone; document.getElementById('edit-email').value = contacts.email; };
        const renderAdminDesign = () => { const titlesContainer = document.getElementById('edit-titles-inputs'); titlesContainer.innerHTML = Object.keys(translations).map(lang => `<h4>–Ø–∑—ã–∫: ${lang.toUpperCase()}</h4><label>–ì–ª–∞–≤–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–Ω–∞–ø—Ä. VELOKRAK):</label><input type="text" id="title-${lang}" value="${translations[lang].headerTitle}"><label>–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫:</label><input type="text" id="subtitle-${lang}" value="${translations[lang].headerSubtitle}">`).join('<hr style="margin: 15px 0;">'); const menuContainer = document.getElementById('edit-menu-items-inputs'); menuContainer.innerHTML = Object.keys(translations).map(lang => `<h4>–ú–µ–Ω—é (${lang.toUpperCase()})</h4><label>–ü–∞—Ä—Ç–Ω—ë—Ä—ã:</label><input type="text" id="menu-partners-${lang}" value="${translations[lang].menuPartners}"><label>–ú–∞—Ä—à—Ä—É—Ç—ã:</label><input type="text" id="menu-routes-${lang}" value="${translations[lang].menuRoutes}"><label>–ê–∫—Ü–∏–∏:</label><input type="text" id="menu-promotions-${lang}" value="${translations[lang].menuPromotions}"><label>–ù–æ–≤–æ—Å—Ç–∏:</label><input type="text" id="menu-news-${lang}" value="${translations[lang].menuNews}">`).join('<hr style="margin: 15px 0;">'); document.getElementById('hero-image-preview').style.backgroundImage = design['--hero-image']; const colorsContainer = document.getElementById('edit-colors-inputs'); const colorFields = [ { var: '--primary', label: '–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç' }, { var: '--primary-dark', label: '–û—Å–Ω–æ–≤–Ω–æ–π (—Ç–µ–º–Ω—ã–π)' }, { var: '--primary-light', label: '–û—Å–Ω–æ–≤–Ω–æ–π (—Å–≤–µ—Ç–ª—ã–π)' }, { var: '--secondary', label: '–í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç' }, { var: '--dark', label: '–§–æ–Ω —Å–∞–π—Ç–∞' }, { var: '--light', label: '–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞' }, { var: '--accent', label: '–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç' }, { var: '--neon',  label: '–ù–µ–æ–Ω–æ–≤—ã–π —Ü–≤–µ—Ç (–≥—Ä–∞–¥–∏–µ–Ω—Ç)' }, { var: '--bike-title-color', label: '–¶–≤–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫' }, ]; colorsContainer.innerHTML = colorFields.map(f => `<div class="color-picker-group"><label for="color-${f.var}">${f.label}:</label><input type="color" id="color-${f.var}" value="${design[f.var]}"></div>`).join(''); const [start, end] = design['--title-gradient'].match(/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g) || ['#000000', '#ffffff']; colorsContainer.innerHTML += `<hr><p>–ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤</p><div class="color-picker-group"><label for="color---title-gradient-start">–ù–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç:</label><input type="color" id="color---title-gradient-start" value="${start}"></div><div class="color-picker-group"><label for="color---title-gradient-end">–ö–æ–Ω–µ—á–Ω—ã–π —Ü–≤–µ—Ç:</label><input type="color" id="color---title-gradient-end" value="${end}"></div>`; };
        window.saveAllSettings = async () => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; Object.keys(design).forEach(key => { const input = document.getElementById(`color-${key}`); if (input) design[key] = input.value; }); const titleGradientStart = document.getElementById('color---title-gradient-start').value; const titleGradientEnd = document.getElementById('color---title-gradient-end').value; design['--title-gradient'] = `linear-gradient(90deg, ${titleGradientStart}, ${titleGradientEnd})`; const heroImageInput = document.getElementById('edit-hero-image'); if (heroImageInput.files[0]) { const newHeroImageUrls = await uploadFilesToStorage(heroImageInput.files, 'design-images'); design['--hero-image'] = `url('${newHeroImageUrls[0]}')`; } Object.keys(translations).forEach(lang => { translations[lang].headerTitle = document.getElementById(`title-${lang}`).value; translations[lang].headerSubtitle = document.getElementById(`subtitle-${lang}`).value; translations[lang].menuPartners = document.getElementById(`menu-partners-${lang}`).value; translations[lang].menuRoutes = document.getElementById(`menu-routes-${lang}`).value; translations[lang].menuPromotions = document.getElementById(`menu-promotions-${lang}`).value; translations[lang].menuNews = document.getElementById(`menu-news-${lang}`).value; }); await saveData(); applyDesign(); translatePage(lang); renderAdminDesign(); showAlertModal(t.alertSuccessTitle, t.settingsSaved); };
        window.resetDesignSettings = () => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showConfirmModal(t.confirmResetDesign, () => { design = JSON.parse(JSON.stringify(defaultData.design)); Object.keys(translations).forEach(lang => { translations[lang].headerTitle = defaultData.translations[lang].headerTitle; translations[lang].headerSubtitle = defaultData.translations[lang].headerSubtitle; }); saveData(); applyDesign(); renderAdminDesign(); translatePage(lang); showAlertModal(t.alertSuccessTitle, t.designReset); }); };
        window.saveContacts = () => { const lang = document.getElementById('language-switcher').value; const t = translations[lang]; Object.keys(contacts.address).forEach(lang => { contacts.address[lang] = document.getElementById(`edit-address-${lang}`).value; }); contacts.phone = document.getElementById('edit-phone').value; contacts.email = document.getElementById('edit-email').value; saveData(); translatePage(lang); showAlertModal(t.alertSuccessTitle, t.contactsSaved); };
        let observer;
        function observeAnimatedElements() { if(observer) observer.disconnect(); const options = { root: null, rootMargin: '0px', threshold: 0.15 }; observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); } }); }, options); const animatedElements = document.querySelectorAll('.section-animated'); animatedElements.forEach(el => observer.observe(el)); }
        function handleParallax() { const hero = document.querySelector('.hero'); if (hero && window.innerWidth > 768) { const scrollPosition = window.pageYOffset; hero.style.transform = `translateY(${scrollPosition * 0.3}px)`; } }
        function toggleSidebar() { document.body.classList.toggle('menu-open'); }
        function closeSidebar() { document.body.classList.remove('menu-open'); }
        const themeSwitchCheckbox = document.getElementById('theme-switch-checkbox');
        const setTheme = (theme) => { if (theme === 'light') { document.body.classList.add('light-theme'); themeSwitchCheckbox.checked = true; localStorage.setItem('siteTheme', 'light'); } else { document.body.classList.remove('light-theme'); themeSwitchCheckbox.checked = false; localStorage.setItem('siteTheme', 'dark'); } };
        themeSwitchCheckbox.addEventListener('change', (e) => { setTheme(e.target.checked ? 'light' : 'dark'); });
        const initializeSite = () => { if(!translations) return; const savedTheme = localStorage.getItem('siteTheme') || 'dark'; setTheme(savedTheme); applyDesign(); renderServiceCheckboxes(); renderBikeCheckboxes(); translatePage(document.getElementById('language-switcher').value || 'ru'); document.getElementById('language-switcher').addEventListener('change', e => { translatePage(e.target.value); renderServiceCheckboxes(); renderBikeCheckboxes(); }); document.getElementById('booking-purpose').addEventListener('change', (event) => { const serviceContainer = document.getElementById('service-selection-container'); const bikeContainer = document.getElementById('bike-selection-container'); if (event.target.value === '–°–µ—Ä–≤–∏—Å') { bikeContainer.classList.remove('visible'); serviceContainer.classList.add('visible'); } else if (event.target.value === '–ê—Ä–µ–Ω–¥–∞') { serviceContainer.classList.remove('visible'); bikeContainer.classList.add('visible'); } else { serviceContainer.classList.remove('visible'); bikeContainer.classList.remove('visible'); } }); document.getElementById('hamburger-menu').addEventListener('click', toggleSidebar); document.getElementById('overlay').addEventListener('click', closeSidebar); document.getElementById('confirmModalYes').addEventListener('click', () => { if (typeof onConfirmCallback === 'function') { onConfirmCallback(); } closeConfirmModal(); }); document.getElementById('confirmModalNo').addEventListener('click', closeConfirmModal); window.addEventListener('click', e => { if (e.target.id === 'rentModal') closeModal(); if (e.target.id === 'serviceModal') closeServiceModal(); if (e.target.id === 'alertModal') closeAlertModal(); if (e.target.id === 'confirmModal') closeConfirmModal(); }); window.addEventListener('scroll', handleParallax, { passive: true }); let clickCount = 0, timer; document.getElementById('main-title').addEventListener('click', () => { clickCount++; clearTimeout(timer); timer = setTimeout(() => { clickCount = 0; }, 1500); if (clickCount === 5) { const btn = document.getElementById('admin-btn'); btn.style.display = 'block'; const lang = document.getElementById('language-switcher').value; const t = translations[lang]; showAlertModal(t.alertInfoTitle, t.adminPanelUnlocked); btn.scrollIntoView({ behavior: 'smooth', block: 'center' }); } }); const adminPasswordInput = document.getElementById('admin-password'); if(adminPasswordInput) { adminPasswordInput.addEventListener('keydown', function(event) { if (event.key === 'Enter') { event.preventDefault(); signInAdmin(); } }); } const bookingForm = document.getElementById('booking-form'); bookingForm.addEventListener('submit', function(event) { event.preventDefault(); const form = event.target; const data = new FormData(form); const submitButton = document.getElementById('submit-btn'); const originalText = submitButton.textContent; submitButton.disabled = true; submitButton.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...'; fetch(form.action, { method: form.method, body: data, headers: { 'Accept': 'application/json' } }).then(response => { const lang = document.getElementById('language-switcher').value; const t = translations[lang] || translations.ru; if (response.ok) { setText('modal-thanks', t.bookingSuccessTitle); setText('modal-rent-text', t.bookingSuccessText); form.reset(); document.getElementById('service-selection-container').classList.remove('visible'); document.getElementById('bike-selection-container').classList.remove('visible'); } else { setText('modal-thanks', t.alertErrorTitle); setText('modal-rent-text', t.bookingErrorText); } }).catch(error => { const lang = document.getElementById('language-switcher').value; const t = translations[lang] || translations.ru; setText('modal-thanks', t.alertErrorTitle); setText('modal-rent-text', t.bookingErrorText); }).finally(() => { document.getElementById('modal-contact-phone').style.display = 'none'; document.getElementById('modal-contact-via').style.display = 'none'; openModal(); submitButton.disabled = false; submitButton.textContent = originalText; }); }); observeAnimatedElements(); };
    </script>
</body>
</html>
